(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var ud={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function AA(){if(X_)return sl;X_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return sl.Fragment=t,sl.jsx=i,sl.jsxs=i,sl}var $_;function SA(){return $_||($_=1,ud.exports=AA()),ud.exports}var vt=SA(),cd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function bA(){if(Z_)return At;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function W(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||F}W.prototype.isReactComponent={},W.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=W.prototype;function Tt(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||F}var ft=Tt.prototype=new St;ft.constructor=Tt,Z(ft,W.prototype),ft.isPureReactComponent=!0;var Lt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function N(C,Y,et,$,lt,wt){return et=wt.ref,{$$typeof:s,type:C,key:Y,ref:et!==void 0?et:null,props:wt}}function S(C,Y){return N(C.type,Y,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function O(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return Y[et]})}var M=/\/+/g;function P(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):Y.toString(36)}function w(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,Y,et,$,lt){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(wt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case t:pt=!0;break;case A:return pt=C._init,re(pt(C._payload),Y,et,$,lt)}}if(pt)return lt=lt(C),pt=$===""?"."+P(C,0):$,Lt(lt)?(et="",pt!=null&&(et=pt.replace(M,"$&/")+"/"),re(lt,Y,et,"",function(xn){return xn})):lt!=null&&(R(lt)&&(lt=S(lt,et+(lt.key==null||C&&C.key===lt.key?"":(""+lt.key).replace(M,"$&/")+"/")+pt)),Y.push(lt)),1;pt=0;var Re=$===""?".":$+":";if(Lt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],wt=Re+P($,Zt),pt+=re($,Y,et,wt,lt);else if(Zt=x(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,wt=Re+P($,Zt++),pt+=re($,Y,et,wt,lt);else if(wt==="object"){if(typeof C.then=="function")return re(Me(C),Y,et,$,lt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,Y,et){if(C==null)return C;var $=[],lt=0;return re(C,$,"","",function(wt){return Y.call(et,wt,lt++)}),$}function tt(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var at=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return At.Children={map:H,forEach:function(C,Y,et){H(C,function(){Y.apply(this,arguments)},et)},count:function(C){var Y=0;return H(C,function(){Y++}),Y},toArray:function(C){return H(C,function(Y){return Y})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=W,At.Fragment=i,At.Profiler=l,At.PureComponent=Tt,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Y,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),lt=C.key,wt=void 0;if(Y!=null)for(pt in Y.ref!==void 0&&(wt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!Mt.call(Y,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Y.ref===void 0||($[pt]=Y[pt]);var pt=arguments.length-2;if(pt===1)$.children=et;else if(1<pt){for(var Re=Array(pt),Zt=0;Zt<pt;Zt++)Re[Zt]=arguments[Zt+2];$.children=Re}return N(C.type,lt,void 0,void 0,wt,$)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},At.createElement=function(C,Y,et){var $,lt={},wt=null;if(Y!=null)for($ in Y.key!==void 0&&(wt=""+Y.key),Y)Mt.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(lt[$]=Y[$]);var pt=arguments.length-2;if(pt===1)lt.children=et;else if(1<pt){for(var Re=Array(pt),Zt=0;Zt<pt;Zt++)Re[Zt]=arguments[Zt+2];lt.children=Re}if(C&&C.defaultProps)for($ in pt=C.defaultProps,pt)lt[$]===void 0&&(lt[$]=pt[$]);return N(C,wt,void 0,void 0,null,lt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=R,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},At.startTransition=function(C){var Y=_t.T,et={};_t.T=et;try{var $=C(),lt=_t.S;lt!==null&&lt(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,at)}catch(wt){at(wt)}finally{_t.T=Y}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(C){return _t.H.use(C)},At.useActionState=function(C,Y,et){return _t.H.useActionState(C,Y,et)},At.useCallback=function(C,Y){return _t.H.useCallback(C,Y)},At.useContext=function(C){return _t.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Y){return _t.H.useDeferredValue(C,Y)},At.useEffect=function(C,Y,et){var $=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,Y)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(C,Y,et){return _t.H.useImperativeHandle(C,Y,et)},At.useInsertionEffect=function(C,Y){return _t.H.useInsertionEffect(C,Y)},At.useLayoutEffect=function(C,Y){return _t.H.useLayoutEffect(C,Y)},At.useMemo=function(C,Y){return _t.H.useMemo(C,Y)},At.useOptimistic=function(C,Y){return _t.H.useOptimistic(C,Y)},At.useReducer=function(C,Y,et){return _t.H.useReducer(C,Y,et)},At.useRef=function(C){return _t.H.useRef(C)},At.useState=function(C){return _t.H.useState(C)},At.useSyncExternalStore=function(C,Y,et){return _t.H.useSyncExternalStore(C,Y,et)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var W_;function $d(){return W_||(W_=1,cd.exports=bA()),cd.exports}var ni=$d(),hd={exports:{}},al={},fd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function RA(){return J_||(J_=1,function(s){function t(H,tt){var at=H.length;H.push(tt);t:for(;0<at;){var zt=at-1>>>1,C=H[zt];if(0<l(C,tt))H[zt]=tt,H[at]=C,at=zt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var tt=H[0],at=H.pop();if(at!==tt){H[0]=at;t:for(var zt=0,C=H.length,Y=C>>>1;zt<Y;){var et=2*(zt+1)-1,$=H[et],lt=et+1,wt=H[lt];if(0>l($,at))lt<C&&0>l(wt,$)?(H[zt]=wt,H[lt]=at,zt=lt):(H[zt]=$,H[et]=at,zt=et);else if(lt<C&&0>l(wt,at))H[zt]=wt,H[lt]=at,zt=lt;else break t}}return tt}function l(H,tt){var at=H.sortIndex-tt.sortIndex;return at!==0?at:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,I=null,x=3,F=!1,Z=!1,it=!1,W=!1,St=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Lt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)r(v);else if(tt.startTime<=H)r(v),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(v)}}function _t(H){if(it=!1,Lt(H),!Z)if(i(p)!==null)Z=!0,Mt||(Mt=!0,P());else{var tt=i(v);tt!==null&&re(_t,tt.startTime-H)}}var Mt=!1,N=-1,S=5,R=-1;function O(){return W?!0:!(s.unstable_now()-R<S)}function M(){if(W=!1,Mt){var H=s.unstable_now();R=H;var tt=!0;try{t:{Z=!1,it&&(it=!1,Tt(N),N=-1),F=!0;var at=x;try{e:{for(Lt(H),I=i(p);I!==null&&!(I.expirationTime>H&&O());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,x=I.priorityLevel;var C=zt(I.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){I.callback=C,Lt(H),tt=!0;break e}I===i(p)&&r(p),Lt(H)}else r(p);I=i(p)}if(I!==null)tt=!0;else{var Y=i(v);Y!==null&&re(_t,Y.startTime-H),tt=!1}}break t}finally{I=null,x=at,F=!1}tt=void 0}}finally{tt?P():Mt=!1}}}var P;if(typeof ft=="function")P=function(){ft(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=M,P=function(){Me.postMessage(null)}}else P=function(){St(M,0)};function re(H,tt){N=St(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var at=x;x=tt;try{return H()}finally{x=at}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var at=x;x=H;try{return tt()}finally{x=at}},s.unstable_scheduleCallback=function(H,tt,at){var zt=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?zt+at:zt):at=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=at+C,H={id:A++,callback:tt,priorityLevel:H,startTime:at,expirationTime:C,sortIndex:-1},at>zt?(H.sortIndex=at,t(v,H),i(p)===null&&H===i(v)&&(it?(Tt(N),N=-1):it=!0,re(_t,at-zt))):(H.sortIndex=C,t(p,H),Z||F||(Z=!0,Mt||(Mt=!0,P()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var tt=x;return function(){var at=x;x=tt;try{return H.apply(this,arguments)}finally{x=at}}}}(dd)),dd}var ty;function wA(){return ty||(ty=1,fd.exports=RA()),fd.exports}var md={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function IA(){if(ey)return je;ey=1;var s=$d();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,je.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},je.flushSync=function(p){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=v,r.p=A,r.d.f()}},je.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},je.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},je.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:x,fetchPriority:F}):A==="script"&&r.d.X(p,{crossOrigin:I,integrity:x,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},je.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);r.d.L(p,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},je.requestFormReset=function(p){r.d.r(p)},je.unstable_batchedUpdates=function(p,v){return p(v)},je.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var ny;function CA(){if(ny)return md.exports;ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),md.exports=IA(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function DA(){if(iy)return al;iy=1;var s=wA(),t=$d(),i=CA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case W:return"Profiler";case it:return"StrictMode";case _t:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ft:return(e.displayName||"Context")+".Provider";case Tt:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Me(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Me(e(n))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function Y(e){return{current:e}}function et(e){0>C||(e.current=zt[C],zt[C]=null,C--)}function $(e,n){C++,zt[C]=e.current,e.current=n}var lt=Y(null),wt=Y(null),pt=Y(null),Re=Y(null);function Zt(e,n){switch($(pt,n),$(wt,e),$(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?S_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=S_(n),e=b_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(lt),$(lt,e)}function xn(){et(lt),et(wt),et(pt)}function ji(e){e.memoizedState!==null&&$(Re,e);var n=lt.current,a=b_(n,e.type);n!==a&&($(wt,e),$(lt,a))}function ui(e){wt.current===e&&(et(lt),et(wt)),Re.current===e&&(et(Re),tl._currentValue=at)}var xr=Object.prototype.hasOwnProperty,zr=s.unstable_scheduleCallback,Br=s.unstable_cancelCallback,$a=s.unstable_shouldYield,Ul=s.unstable_requestPaint,fn=s.unstable_now,lh=s.unstable_getCurrentPriorityLevel,Za=s.unstable_ImmediatePriority,Vs=s.unstable_UserBlockingPriority,qr=s.unstable_NormalPriority,uh=s.unstable_LowPriority,Ps=s.unstable_IdlePriority,Wa=s.log,kl=s.unstable_setDisableYieldValue,se=null,jt=null;function nn(e){if(typeof Wa=="function"&&kl(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:Hr,Ll=Math.log,ch=Math.LN2;function Hr(e){return e>>>=0,e===0?32:31-(Ll(e)/ch|0)|0}var jr=256,Gr=4194304;function In(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Us(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=In(o):(y&=E,y!==0?h=In(y):a||(a=E&~e,a!==0&&(h=In(a))))):(E=o&~f,E!==0?h=In(E):y!==0?h=In(y):a||(a=o&~e,a!==0&&(h=In(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Fr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ja(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var e=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),e}function eo(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function ci(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function no(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=y&~a;0<a;){var j=31-qe(a),K=1<<j;E[j]=0,b[j]=-1;var z=L[j];if(z!==null)for(L[j]=null,j=0;j<z.length;j++){var B=z[j];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&zn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function zn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function io(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-qe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ks(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function xl(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var Jt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Jt,fe="__reactProps$"+Jt,dn="__reactContainer$"+Jt,ro="__reactEvents$"+Jt,hh="__reactListeners$"+Jt,Ki="__reactHandles$"+Jt,zl="__reactResources$"+Jt,Kr="__reactMarker$"+Jt;function Qi(e){delete e[_e],delete e[fe],delete e[ro],delete e[hh],delete e[Ki]}function fi(e){var n=e[_e];if(n)return n;for(var a=e.parentNode;a;){if(n=a[dn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[_e])return a;e=C_(e)}return n}e=a,a=e.parentNode}return null}function Bn(e){if(e=e[_e]||e[dn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ye(e){var n=e[zl];return n||(n=e[zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[Kr]=!0}var so=new Set,Ls={};function Cn(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(Ls[e]=n,e=0;e<n.length;e++)so.add(n[e])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Qr={};function Hl(e){return xr.call(Qr,e)?!0:xr.call(ql,e)?!1:Bl.test(e)?Qr[e]=!0:(ql[e]=!0,!1)}function Yi(e,n,a){if(Hl(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Hn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ve(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Yr,jl;function mi(e){if(Yr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",jl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+jl}var xs=!1;function zs(e,n){if(!e||xs)return"";xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var j=`
`+b[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mi(a):""}function ao(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return zs(e.type,!1);case 11:return zs(e.type.render,!1);case 1:return zs(e.type,!0);case 31:return mi("Activity");default:return""}}function Bs(e){try{var n="";do n+=ao(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fh(e){var n=oo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qs(e){e._valueTracker||(e._valueTracker=fh(e))}function lo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=oo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dh=/[\n"\\]/g;function de(e){return e.replace(dh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Xi(e,y,Xe(n)):a!=null?Xi(e,y,Xe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function $r(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Xi(e,n,a){n==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gi(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Kt(e,n,a){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Xe(a):""}function Zr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(re(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Xe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function mn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Wr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function uo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Gl(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Gl(e,f,n[f])}function co(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(e){return gh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,yi=null;function ho(e){var n=Bn(e);if(n&&(e=n.stateNode)){var a=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(rn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(r(90));rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&lo(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&gi(e,!!a.multiple,n,!1)}}}var jn=!1;function Fl(e,n,a){if(jn)return e(n,a);jn=!0;try{var o=e(n);return o}finally{if(jn=!1,(_i!==null||yi!==null)&&(xu(),_i&&(n=_i,e=yi,yi=_i=null,ho(n),e)))for(n=0;n<e.length;n++)ho(e[n])}}function Jr(e,n){var a=e.stateNode;if(a===null)return null;var o=a[fe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Dn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){pn=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{pn=!1}var Gn=null,$i=null,vi=null;function fo(){if(vi)return vi;var e,n=$i,a=n.length,o,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Fn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function mo(){return!1}function we(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:mo,this.isPropagationStopped=mo,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=we(qt),es=A({},qt,{view:0,detail:0}),Kl=we(es),Gs,Fs,Qn,ns=A({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Gs=e.screenX-Qn.screenX,Fs=e.screenY-Qn.screenY):Fs=Gs=0,Qn=e),Gs)},movementY:function(e){return"movementY"in e?e.movementY:Fs}}),_n=we(ns),Ql=A({},ns,{dataTransfer:0}),ph=we(Ql),is=A({},es,{relatedTarget:0}),Ks=we(is),go=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qs=we(go),Yl=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ys=we(Yl),_h=A({},qt,{data:0}),po=we(_h),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _o(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=$l[e])?!!n[e]:!1}function ss(){return _o}var Zl=A({},es,{key:function(e){if(e.key){var n=rs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Fn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xs=we(Zl),Wl=A({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yo=we(Wl),Ei=A({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),Jl=we(Ei),tu=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=we(tu),nu=A({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=we(nu),$e=A({},qt,{newState:0,oldState:0}),iu=we($e),ru=[9,13,27,32],Yn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,_=Dn&&(!Yn||u&&8<u&&11>=u),T=" ",U=!1;function q(e,n){switch(e){case"keyup":return ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function ye(e,n){switch(e){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Pt(e,n){if(Vt)return e==="compositionend"||!Yn&&q(e,n)?(e=fo(),vi=$i=Gn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ti(e,n,a,o){_i?yi?yi.push(o):yi=[o]:_i=o,n=Gu(n,"onChange"),0<n.length&&(a=new js("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Pe=null,Xn=null;function vo(e){y_(e,0)}function su(e){var n=qn(e);if(lo(n))return e}function zm(e,n){if(e==="change")return n}var Bm=!1;if(Dn){var yh;if(Dn){var vh="oninput"in document;if(!vh){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),vh=typeof qm.oninput=="function"}yh=vh}else yh=!1;Bm=yh&&(!document.documentMode||9<document.documentMode)}function Hm(){Pe&&(Pe.detachEvent("onpropertychange",jm),Xn=Pe=null)}function jm(e){if(e.propertyName==="value"&&su(Xn)){var n=[];Ti(n,Xn,e,gn(e)),Fl(vo,n)}}function WT(e,n,a){e==="focusin"?(Hm(),Pe=n,Xn=a,Pe.attachEvent("onpropertychange",jm)):e==="focusout"&&Hm()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return su(Xn)}function t0(e,n){if(e==="click")return su(n)}function e0(e,n){if(e==="input"||e==="change")return su(n)}function n0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:n0;function Eo(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!xr.call(n,h)||!sn(e[h],n[h]))return!1}return!0}function Gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fm(e,n){var a=Gm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gm(a)}}function Km(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Km(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Xr(e.document)}return n}function Eh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var i0=Dn&&"documentMode"in document&&11>=document.documentMode,Zs=null,Th=null,To=null,Ah=!1;function Ym(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ah||Zs==null||Zs!==Xr(o)||(o=Zs,"selectionStart"in o&&Eh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),To&&Eo(To,o)||(To=o,o=Gu(Th,"onSelect"),0<o.length&&(n=new js("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Zs)))}function as(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ws={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Sh={},Xm={};Dn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function os(e){if(Sh[e])return Sh[e];if(!Ws[e])return e;var n=Ws[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return Sh[e]=n[a];return e}var $m=os("animationend"),Zm=os("animationiteration"),Wm=os("animationstart"),r0=os("transitionrun"),s0=os("transitionstart"),a0=os("transitioncancel"),Jm=os("transitionend"),tg=new Map,bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bh.push("scrollEnd");function On(e,n){tg.set(e,n),Cn(n,[e])}var eg=new WeakMap;function yn(e,n){if(typeof e=="object"&&e!==null){var a=eg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Bs(n)},eg.set(e,n),n)}return{value:e,source:n,stack:Bs(n)}}var vn=[],Js=0,Rh=0;function au(){for(var e=Js,n=Rh=Js=0;n<e;){var a=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var h=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&ng(a,h,f)}}function ou(e,n,a,o){vn[Js++]=e,vn[Js++]=n,vn[Js++]=a,vn[Js++]=o,Rh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function wh(e,n,a,o){return ou(e,n,a,o),lu(e)}function ta(e,n){return ou(e,null,null,n),lu(e)}function ng(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-qe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function lu(e){if(50<Ko)throw Ko=0,Vf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ea={};function o0(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,a,o){return new o0(e,n,a,o)}function Ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,n){var a=e.alternate;return a===null?(a=an(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ig(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function uu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Ih(e)&&(y=1);else if(typeof e=="string")y=uA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=an(31,a,n,h),e.elementType=R,e.lanes=f,e;case Z:return ls(a.children,h,f,n);case it:y=8,h|=24;break;case W:return e=an(12,a,n,h|2),e.elementType=W,e.lanes=f,e;case _t:return e=an(13,a,n,h),e.elementType=_t,e.lanes=f,e;case Mt:return e=an(19,a,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case St:case ft:y=10;break t;case Tt:y=9;break t;case Lt:y=11;break t;case N:y=14;break t;case S:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=an(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ls(e,n,a,o){return e=an(7,e,o,n),e.lanes=a,e}function Ch(e,n,a){return e=an(6,e,null,n),e.lanes=a,e}function Dh(e,n,a){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var na=[],ia=0,cu=null,hu=0,En=[],Tn=0,us=null,Si=1,bi="";function cs(e,n){na[ia++]=hu,na[ia++]=cu,cu=e,hu=n}function rg(e,n,a){En[Tn++]=Si,En[Tn++]=bi,En[Tn++]=us,us=e;var o=Si;e=bi;var h=32-qe(o)-1;o&=~(1<<h),a+=1;var f=32-qe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Si=1<<32-qe(n)+h|a<<h|o,bi=f+e}else Si=1<<f|a<<h|o,bi=e}function Oh(e){e.return!==null&&(cs(e,1),rg(e,1,0))}function Nh(e){for(;e===cu;)cu=na[--ia],na[ia]=null,hu=na[--ia],na[ia]=null;for(;e===us;)us=En[--Tn],En[Tn]=null,bi=En[--Tn],En[Tn]=null,Si=En[--Tn],En[Tn]=null}var Ze=null,ae=null,Bt=!1,hs=null,$n=!1,Mh=Error(r(519));function fs(e){var n=Error(r(418,""));throw bo(yn(n,e)),Mh}function sg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[_e]=e,n[fe]=o,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Yo.length;a++)Dt(Yo[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),$r(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),qs(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Zr(n,o.value,o.defaultValue,o.children),qs(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||A_(n.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Fu),n=!0):n=!1,n||fs(e)}function ag(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function Ao(e){if(e!==Ze)return!1;if(!Bt)return ag(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xf(e.type,e.memoizedProps)),a=!a),a&&ae&&fs(e),ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ae=Mn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,fr(e.type)?(e=Jf,Jf=null,ae=e):ae=n):ae=Ze?Mn(e.stateNode.nextSibling):null;return!0}function So(){ae=Ze=null,Bt=!1}function og(){var e=hs;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),hs=null),e}function bo(e){hs===null?hs=[e]:hs.push(e)}var Vh=Y(null),ds=null,Ri=null;function Zi(e,n,a){$(Vh,n._currentValue),n._currentValue=a}function wi(e){e._currentValue=Vh.current,et(Vh)}function Ph(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Uh(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Ph(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Ph(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ro(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;sn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}h=h.return}e!==null&&Uh(n,e,a,o),n.flags|=262144}function fu(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ms(e){ds=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return lg(ds,e)}function du(e,n){return ds===null&&ms(e),lg(e,n)}function lg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ri===null){if(e===null)throw Error(r(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return a}var l0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},u0=s.unstable_scheduleCallback,c0=s.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new l0,data:new Map,refCount:0}}function wo(e){e.refCount--,e.refCount===0&&u0(c0,function(){e.controller.abort()})}var Io=null,Lh=0,ra=0,sa=null;function h0(e,n){if(Io===null){var a=Io=[];Lh=0,ra=Bf(),sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Lh++,n.then(ug,ug),n}function ug(){if(--Lh===0&&Io!==null){sa!==null&&(sa.status="fulfilled");var e=Io;Io=null,ra=0,sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function f0(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var cg=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&h0(e,n),cg!==null&&cg(e,n)};var gs=Y(null);function xh(){var e=gs.current;return e!==null?e:Wt.pooledCache}function mu(e,n){n===null?$(gs,gs.current):$(gs,n.pool)}function hg(){var e=xh();return e===null?null:{parent:Ee._currentValue,pool:e}}var Co=Error(r(460)),fg=Error(r(474)),gu=Error(r(542)),zh={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pu(){}function mg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(pu,pu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pg(e),e;default:if(typeof n.status=="string")n.then(pu,pu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pg(e),e}throw Do=n,Co}}var Do=null;function gg(){if(Do===null)throw Error(r(459));var e=Do;return Do=null,e}function pg(e){if(e===Co||e===gu)throw Error(r(483))}var Wi=!1;function Bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=lu(e),ng(e,null,a),n}return ou(e,o,n,a),lu(e)}function Oo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,io(e,a)}}function Hh(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var jh=!1;function No(){if(jh){var e=sa;if(e!==null)throw e}}function Mo(e,n,a,o){jh=!1;var h=e.updateQueue;Wi=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,y===null?f=L:y.next=L,y=b;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=L:E.next=L,j.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;y=0,j=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ut&z)===z:(o&z)===z){z!==0&&z===ra&&(jh=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=e,ct=E;z=n;var Xt=a;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){K=mt.call(Xt,K,z);break t}K=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,z=typeof mt=="function"?mt.call(Xt,K,z):mt,z==null)break t;K=A({},K,z);break t;case 2:Wi=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(L=j=B,b=K):j=j.next=B,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);j===null&&(b=K),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),lr|=y,e.lanes=y,e.memoizedState=K}}function _g(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function yg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_g(a[e],n)}var aa=Y(null),_u=Y(0);function vg(e,n){e=Vi,$(_u,e),$(aa,n),Vi=e|n.baseLanes}function Gh(){$(_u,Vi),$(aa,aa.current)}function Fh(){Vi=_u.current,et(aa),et(_u)}var er=0,bt=null,Qt=null,me=null,yu=!1,oa=!1,ps=!1,vu=0,Vo=0,la=null,d0=0;function ue(){throw Error(r(321))}function Kh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!sn(e[a],n[a]))return!1;return!0}function Qh(e,n,a,o,h,f){return er=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?np:ip,ps=!1,f=a(o,h),ps=!1,oa&&(f=Tg(n,a,o,h)),Eg(e),f}function Eg(e){H.H=Ru;var n=Qt!==null&&Qt.next!==null;if(er=0,me=Qt=bt=null,yu=!1,Vo=0,la=null,n)throw Error(r(300));e===null||Ce||(e=e.dependencies,e!==null&&fu(e)&&(Ce=!0))}function Tg(e,n,a,o){bt=e;var h=0;do{if(oa&&(la=null),Vo=0,oa=!1,25<=h)throw Error(r(301));if(h+=1,me=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=E0,f=n(a,o)}while(oa);return f}function m0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Po(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Yh(){var e=vu!==0;return vu=0,e}function Xh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function $h(e){if(yu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}yu=!1}er=0,me=Qt=bt=null,oa=!1,Vo=vu=0,la=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=e:me=me.next=e,me}function ge(){if(Qt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Qt=e;else{if(e===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?bt.memoizedState=me=e:me=me.next=e}return me}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var n=Vo;return Vo+=1,la===null&&(la=[]),e=mg(la,e,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?np:ip),e}function Eu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===ft)return He(e)}throw Error(r(438,String(e)))}function Wh(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zh(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=O;return n.index++,a}function Ii(e,n){return typeof n=="function"?n(e):n}function Tu(e){var n=ge();return Jh(n,Qt,e)}function Jh(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,b=null,L=n,j=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Ut&K)===K:(er&K)===K){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===ra&&(j=!0);else if((er&z)===z){L=L.next,z===ra&&(j=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,bt.lanes|=z,lr|=z;K=L.action,ps&&a(f,K),f=L.hasEagerState?L.eagerState:a(f,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,y=f):b=b.next=z,bt.lanes|=K,lr|=K;L=L.next}while(L!==null&&L!==n);if(b===null?y=f:b.next=E,!sn(f,e.memoizedState)&&(Ce=!0,j&&(a=sa,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function tf(e){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);sn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Ag(e,n,a){var o=bt,h=ge(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!sn((Qt||h).memoizedState,a);y&&(h.memoizedState=a,Ce=!0),h=h.queue;var E=Rg.bind(null,o,h,e);if(Uo(2048,8,E,[e]),h.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,ua(9,Au(),bg.bind(null,o,h,a,n),null),Wt===null)throw Error(r(349));f||(er&124)!==0||Sg(o,n,a)}return a}function Sg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=Zh(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function bg(e,n,a,o){n.value=a,n.getSnapshot=o,wg(n)&&Ig(e)}function Rg(e,n,a){return a(function(){wg(n)&&Ig(e)})}function wg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!sn(e,a)}catch{return!0}}function Ig(e){var n=ta(e,2);n!==null&&hn(n,e,2)}function ef(e){var n=We();if(typeof e=="function"){var a=e;if(e=a(),ps){nn(!0);try{a()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Cg(e,n,a,o){return e.baseState=a,Jh(e,Qt,typeof o=="function"?o:Ii)}function g0(e,n,a,o,h){if(bu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Dg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Dg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(h,o),b=H.S;b!==null&&b(y,E),Og(e,n,E)}catch(L){nf(e,n,L)}finally{H.T=f}}else try{f=a(h,o),Og(e,n,f)}catch(L){nf(e,n,L)}}function Og(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ng(e,n,o)},function(o){return nf(e,n,o)}):Ng(e,n,a)}function Ng(e,n,a){n.status="fulfilled",n.value=a,Mg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Dg(e,a)))}function nf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Mg(n),n=n.next;while(n!==o)}e.action=null}function Mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vg(e,n){return n}function Pg(e,n){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=bt;if(Bt){if(ae){e:{for(var h=ae,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Mn(h.nextSibling),o=h.data==="F!";break t}}fs(o)}o=!1}o&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},a.queue=o,a=Jg.bind(null,bt,o),o.dispatch=a,o=ef(!1),f=lf.bind(null,bt,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=g0.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Ug(e){var n=ge();return kg(n,Qt,e)}function kg(e,n,a){if(n=Jh(e,n,Vg)[0],e=Tu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Po(n)}catch(y){throw y===Co?gu:y}else o=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,ua(9,Au(),p0.bind(null,h,a),null)),[o,f,e]}function p0(e,n){e.action=n}function Lg(e){var n=ge(),a=Qt;if(a!==null)return kg(n,a,e);ge(),n=n.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ua(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Zh(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Au(){return{destroy:void 0,resource:void 0}}function xg(){return ge().memoizedState}function Su(e,n,a,o){var h=We();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=ua(1|n,Au(),a,o)}function Uo(e,n,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&Kh(o,Qt.memoizedState.deps)?h.memoizedState=ua(n,f,a,o):(bt.flags|=e,h.memoizedState=ua(1|n,f,a,o))}function zg(e,n){Su(8390656,8,e,n)}function Bg(e,n){Uo(2048,8,e,n)}function qg(e,n){return Uo(4,2,e,n)}function Hg(e,n){return Uo(4,4,e,n)}function jg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gg(e,n,a){a=a!=null?a.concat([e]):null,Uo(4,4,jg.bind(null,n,e),a)}function rf(){}function Fg(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Kh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Kg(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Kh(n,o[1]))return o[0];if(o=e(),ps){nn(!0);try{e()}finally{nn(!1)}}return a.memoizedState=[o,n],o}function sf(e,n,a){return a===void 0||(er&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Xp(),bt.lanes|=e,lr|=e,a)}function Qg(e,n,a,o){return sn(a,n)?a:aa.current!==null?(e=sf(e,a,o),sn(e,n)||(Ce=!0),e):(er&42)===0?(Ce=!0,e.memoizedState=a):(e=Xp(),bt.lanes|=e,lr|=e,n)}function Yg(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,lf(e,!1,n,a);try{var b=h(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=f0(b,o);ko(e,n,j,cn(e))}else ko(e,n,o,cn(e))}catch(K){ko(e,n,{then:function(){},status:"rejected",reason:K},cn())}finally{tt.p=f,H.T=y}}function _0(){}function af(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Xg(e).queue;Yg(e,h,n,at,a===null?_0:function(){return $g(e),a(o)})}function Xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:at},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $g(e){var n=Xg(e).next.queue;ko(e,n,{},cn())}function of(){return He(tl)}function Zg(){return ge().memoizedState}function Wg(){return ge().memoizedState}function y0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();e=Ji(a);var o=tr(n,e,a);o!==null&&(hn(o,n,a),Oo(o,n,a)),n={cache:kh()},e.payload=n;return}n=n.return}}function v0(e,n,a){var o=cn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bu(e)?tp(n,a):(a=wh(e,n,a,o),a!==null&&(hn(a,e,o),ep(a,n,o)))}function Jg(e,n,a){var o=cn();ko(e,n,a,o)}function ko(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bu(e))tp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,sn(E,y))return ou(e,n,h,0),Wt===null&&au(),!1}catch{}finally{}if(a=wh(e,n,h,o),a!==null)return hn(a,e,o),ep(a,n,o),!0}return!1}function lf(e,n,a,o){if(o={lane:2,revertLane:Bf(),action:o,hasEagerState:!1,eagerState:null,next:null},bu(e)){if(n)throw Error(r(479))}else n=wh(e,a,o,2),n!==null&&hn(n,e,2)}function bu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function tp(e,n){oa=yu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ep(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,io(e,a)}}var Ru={readContext:He,use:Eu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},np={readContext:He,use:Eu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:zg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Su(4194308,4,jg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Su(4194308,4,e,n)},useInsertionEffect:function(e,n){Su(4,2,e,n)},useMemo:function(e,n){var a=We();n=n===void 0?null:n;var o=e();if(ps){nn(!0);try{e()}finally{nn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=We();if(a!==void 0){var h=a(n);if(ps){nn(!0);try{a(n)}finally{nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=v0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=ef(e);var n=e.queue,a=Jg.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(e,n){var a=We();return sf(a,e,n)},useTransition:function(){var e=ef(!1);return e=Yg.bind(null,bt,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,h=We();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Ut&124)!==0||Sg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,zg(Rg.bind(null,o,f,e),[e]),o.flags|=2048,ua(9,Au(),bg.bind(null,o,f,a,n),null),a},useId:function(){var e=We(),n=Wt.identifierPrefix;if(Bt){var a=bi,o=Si;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=vu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=d0++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:of,useFormState:Pg,useActionState:Pg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=lf.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Wh,useCacheRefresh:function(){return We().memoizedState=y0.bind(null,bt)}},ip={readContext:He,use:Eu,useCallback:Fg,useContext:He,useEffect:Bg,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Kg,useReducer:Tu,useRef:xg,useState:function(){return Tu(Ii)},useDebugValue:rf,useDeferredValue:function(e,n){var a=ge();return Qg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=Tu(Ii)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:of,useFormState:Ug,useActionState:Ug,useOptimistic:function(e,n){var a=ge();return Cg(a,Qt,e,n)},useMemoCache:Wh,useCacheRefresh:Wg},E0={readContext:He,use:Eu,useCallback:Fg,useContext:He,useEffect:Bg,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Kg,useReducer:tf,useRef:xg,useState:function(){return tf(Ii)},useDebugValue:rf,useDeferredValue:function(e,n){var a=ge();return Qt===null?sf(a,e,n):Qg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=tf(Ii)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:of,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,n){var a=ge();return Qt!==null?Cg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wh,useCacheRefresh:Wg},ca=null,Lo=0;function wu(e){var n=Lo;return Lo+=1,ca===null&&(ca=[]),mg(ca,e,n)}function xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===I?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rp(e){var n=e._init;return n(e._payload)}function sp(e){function n(V,D){if(e){var k=V.deletions;k===null?(V.deletions=[D],V.flags|=16):k.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ai(V,D),V.index=0,V.sibling=null,V}function f(V,D,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<D?(V.flags|=67108866,D):k):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,k,G){return D===null||D.tag!==6?(D=Ch(k,V.mode,G),D.return=V,D):(D=h(D,k),D.return=V,D)}function b(V,D,k,G){var rt=k.type;return rt===Z?j(V,D,k.props.children,G,k.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&rp(rt)===D.type)?(D=h(D,k.props),xo(D,k),D.return=V,D):(D=uu(k.type,k.key,k.props,null,V.mode,G),xo(D,k),D.return=V,D)}function L(V,D,k,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=Dh(k,V.mode,G),D.return=V,D):(D=h(D,k.children||[]),D.return=V,D)}function j(V,D,k,G,rt){return D===null||D.tag!==7?(D=ls(k,V.mode,G,rt),D.return=V,D):(D=h(D,k),D.return=V,D)}function K(V,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ch(""+D,V.mode,k),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return k=uu(D.type,D.key,D.props,null,V.mode,k),xo(k,D),k.return=V,k;case F:return D=Dh(D,V.mode,k),D.return=V,D;case S:var G=D._init;return D=G(D._payload),K(V,D,k)}if(re(D)||P(D))return D=ls(D,V.mode,k,null),D.return=V,D;if(typeof D.then=="function")return K(V,wu(D),k);if(D.$$typeof===ft)return K(V,du(V,D),k);Iu(V,D)}return null}function z(V,D,k,G){var rt=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return rt!==null?null:E(V,D,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===rt?b(V,D,k,G):null;case F:return k.key===rt?L(V,D,k,G):null;case S:return rt=k._init,k=rt(k._payload),z(V,D,k,G)}if(re(k)||P(k))return rt!==null?null:j(V,D,k,G,null);if(typeof k.then=="function")return z(V,D,wu(k),G);if(k.$$typeof===ft)return z(V,D,du(V,k),G);Iu(V,k)}return null}function B(V,D,k,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(k)||null,E(D,V,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return V=V.get(G.key===null?k:G.key)||null,b(D,V,G,rt);case F:return V=V.get(G.key===null?k:G.key)||null,L(D,V,G,rt);case S:var It=G._init;return G=It(G._payload),B(V,D,k,G,rt)}if(re(G)||P(G))return V=V.get(k)||null,j(D,V,G,rt,null);if(typeof G.then=="function")return B(V,D,k,wu(G),rt);if(G.$$typeof===ft)return B(V,D,k,du(D,G),rt);Iu(D,G)}return null}function mt(V,D,k,G){for(var rt=null,It=null,st=D,ht=D=0,Oe=null;st!==null&&ht<k.length;ht++){st.index>ht?(Oe=st,st=null):Oe=st.sibling;var xt=z(V,st,k[ht],G);if(xt===null){st===null&&(st=Oe);break}e&&st&&xt.alternate===null&&n(V,st),D=f(xt,D,ht),It===null?rt=xt:It.sibling=xt,It=xt,st=Oe}if(ht===k.length)return a(V,st),Bt&&cs(V,ht),rt;if(st===null){for(;ht<k.length;ht++)st=K(V,k[ht],G),st!==null&&(D=f(st,D,ht),It===null?rt=st:It.sibling=st,It=st);return Bt&&cs(V,ht),rt}for(st=o(st);ht<k.length;ht++)Oe=B(st,V,ht,k[ht],G),Oe!==null&&(e&&Oe.alternate!==null&&st.delete(Oe.key===null?ht:Oe.key),D=f(Oe,D,ht),It===null?rt=Oe:It.sibling=Oe,It=Oe);return e&&st.forEach(function(_r){return n(V,_r)}),Bt&&cs(V,ht),rt}function ct(V,D,k,G){if(k==null)throw Error(r(151));for(var rt=null,It=null,st=D,ht=D=0,Oe=null,xt=k.next();st!==null&&!xt.done;ht++,xt=k.next()){st.index>ht?(Oe=st,st=null):Oe=st.sibling;var _r=z(V,st,xt.value,G);if(_r===null){st===null&&(st=Oe);break}e&&st&&_r.alternate===null&&n(V,st),D=f(_r,D,ht),It===null?rt=_r:It.sibling=_r,It=_r,st=Oe}if(xt.done)return a(V,st),Bt&&cs(V,ht),rt;if(st===null){for(;!xt.done;ht++,xt=k.next())xt=K(V,xt.value,G),xt!==null&&(D=f(xt,D,ht),It===null?rt=xt:It.sibling=xt,It=xt);return Bt&&cs(V,ht),rt}for(st=o(st);!xt.done;ht++,xt=k.next())xt=B(st,V,ht,xt.value,G),xt!==null&&(e&&xt.alternate!==null&&st.delete(xt.key===null?ht:xt.key),D=f(xt,D,ht),It===null?rt=xt:It.sibling=xt,It=xt);return e&&st.forEach(function(TA){return n(V,TA)}),Bt&&cs(V,ht),rt}function Xt(V,D,k,G){if(typeof k=="object"&&k!==null&&k.type===Z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:t:{for(var rt=k.key;D!==null;){if(D.key===rt){if(rt=k.type,rt===Z){if(D.tag===7){a(V,D.sibling),G=h(D,k.props.children),G.return=V,V=G;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&rp(rt)===D.type){a(V,D.sibling),G=h(D,k.props),xo(G,k),G.return=V,V=G;break t}a(V,D);break}else n(V,D);D=D.sibling}k.type===Z?(G=ls(k.props.children,V.mode,G,k.key),G.return=V,V=G):(G=uu(k.type,k.key,k.props,null,V.mode,G),xo(G,k),G.return=V,V=G)}return y(V);case F:t:{for(rt=k.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){a(V,D.sibling),G=h(D,k.children||[]),G.return=V,V=G;break t}else{a(V,D);break}else n(V,D);D=D.sibling}G=Dh(k,V.mode,G),G.return=V,V=G}return y(V);case S:return rt=k._init,k=rt(k._payload),Xt(V,D,k,G)}if(re(k))return mt(V,D,k,G);if(P(k)){if(rt=P(k),typeof rt!="function")throw Error(r(150));return k=rt.call(k),ct(V,D,k,G)}if(typeof k.then=="function")return Xt(V,D,wu(k),G);if(k.$$typeof===ft)return Xt(V,D,du(V,k),G);Iu(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(a(V,D.sibling),G=h(D,k),G.return=V,V=G):(a(V,D),G=Ch(k,V.mode,G),G.return=V,V=G),y(V)):a(V,D)}return function(V,D,k,G){try{Lo=0;var rt=Xt(V,D,k,G);return ca=null,rt}catch(st){if(st===Co||st===gu)throw st;var It=an(29,st,null,V.mode);return It.lanes=G,It.return=V,It}finally{}}}var ha=sp(!0),ap=sp(!1),An=Y(null),Zn=null;function nr(e){var n=e.alternate;$(Te,Te.current&1),$(An,e),Zn===null&&(n===null||aa.current!==null||n.memoizedState!==null)&&(Zn=e)}function op(e){if(e.tag===22){if($(Te,Te.current),$(An,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else ir()}function ir(){$(Te,Te.current),$(An,An.current)}function Ci(e){et(An),Zn===e&&(Zn=null),et(Te)}var Te=Y(0);function Cu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function uf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=cn(),h=Ji(o);h.payload=n,a!=null&&(h.callback=a),n=tr(e,h,o),n!==null&&(hn(n,e,o),Oo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=cn(),h=Ji(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=tr(e,h,o),n!==null&&(hn(n,e,o),Oo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=cn(),o=Ji(a);o.tag=2,n!=null&&(o.callback=n),n=tr(e,o,a),n!==null&&(hn(n,e,a),Oo(n,e,a))}};function lp(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Eo(a,o)||!Eo(h,f):!0}function up(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&cf.enqueueReplaceState(n,n.state,null)}function _s(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cp(e){Du(e)}function hp(e){console.error(e)}function fp(e){Du(e)}function Ou(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function dp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(e,n,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(e,n)},a}function mp(e){return e=Ji(e),e.tag=3,e}function gp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){dp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){dp(n,a,o),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function T0(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ro(n,a,h,!0),a=An.current,a!==null){switch(a.tag){case 13:return Zn===null?Uf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===zh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Lf(e,o,h)),!1;case 22:return a.flags|=65536,o===zh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Lf(e,o,h)),!1}throw Error(r(435,a.tag))}return Lf(e,o,h),Uf(),!1}if(Bt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Mh&&(e=Error(r(422),{cause:o}),bo(yn(e,a)))):(o!==Mh&&(n=Error(r(423),{cause:o}),bo(yn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=yn(o,a),h=hf(e.stateNode,o,h),Hh(e,h),oe!==4&&(oe=2)),!1;var f=Error(r(520),{cause:o});if(f=yn(f,a),Fo===null?Fo=[f]:Fo.push(f),oe!==4&&(oe=2),n===null)return!0;o=yn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=hf(a.stateNode,o,e),Hh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mp(h),gp(h,e,a,o),Hh(a,h),!1}a=a.return}while(a!==null);return!1}var pp=Error(r(461)),Ce=!1;function Ue(e,n,a,o){n.child=e===null?ap(n,null,a,o):ha(n,e.child,a,o)}function _p(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return ms(n),o=Qh(e,n,a,y,f,h),E=Yh(),e!==null&&!Ce?(Xh(e,n,h),Di(e,n,h)):(Bt&&E&&Oh(n),n.flags|=1,Ue(e,n,o,h),n.child)}function yp(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Ih(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,vp(e,n,f,o,h)):(e=uu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!vf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Eo,a(y,o)&&e.ref===n.ref)return Di(e,n,h)}return n.flags|=1,e=Ai(f,o),e.ref=n.ref,e.return=n,n.child=e}function vp(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Eo(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,vf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Di(e,n,h)}return ff(e,n,a,o,h)}function Ep(e,n,a){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Tp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&mu(n,f!==null?f.cachePool:null),f!==null?vg(n,f):Gh(),op(n);else return n.lanes=n.childLanes=536870912,Tp(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(mu(n,f.cachePool),vg(n,f),ir(),n.memoizedState=null):(e!==null&&mu(n,null),Gh(),ir());return Ue(e,n,h,a),n.child}function Tp(e,n,a,o){var h=xh();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&mu(n,null),Gh(),op(n),e!==null&&Ro(e,n,o,!0),null}function Nu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function ff(e,n,a,o,h){return ms(n),a=Qh(e,n,a,o,void 0,h),o=Yh(),e!==null&&!Ce?(Xh(e,n,h),Di(e,n,h)):(Bt&&o&&Oh(n),n.flags|=1,Ue(e,n,a,h),n.child)}function Ap(e,n,a,o,h,f){return ms(n),n.updateQueue=null,a=Tg(n,o,a,h),Eg(e),o=Yh(),e!==null&&!Ce?(Xh(e,n,f),Di(e,n,f)):(Bt&&o&&Oh(n),n.flags|=1,Ue(e,n,a,f),n.child)}function Sp(e,n,a,o,h){if(ms(n),n.stateNode===null){var f=ea,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Bh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):ea,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(uf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&cf.enqueueReplaceState(f,f.state,null),Mo(n,o,f,h),No(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=_s(a,E);f.props=b;var L=f.context,j=a.contextType;y=ea,typeof j=="object"&&j!==null&&(y=He(j));var K=a.getDerivedStateFromProps;j=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&up(n,f,o,y),Wi=!1;var z=n.memoizedState;f.state=z,Mo(n,o,f,h),No(),L=n.memoizedState,E||z!==L||Wi?(typeof K=="function"&&(uf(n,a,K,o),L=n.memoizedState),(b=Wi||lp(n,a,b,o,z,L,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,qh(e,n),y=n.memoizedProps,j=_s(a,y),f.props=j,K=n.pendingProps,z=f.context,L=a.contextType,b=ea,typeof L=="object"&&L!==null&&(b=He(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||z!==b)&&up(n,f,o,b),Wi=!1,z=n.memoizedState,f.state=z,Mo(n,o,f,h),No();var B=n.memoizedState;y!==K||z!==B||Wi||e!==null&&e.dependencies!==null&&fu(e.dependencies)?(typeof E=="function"&&(uf(n,a,E,o),B=n.memoizedState),(j=Wi||lp(n,a,j,o,z,B,b)||e!==null&&e.dependencies!==null&&fu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=j):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Nu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ha(n,e.child,null,h),n.child=ha(n,null,a,h)):Ue(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Di(e,n,h),e}function bp(e,n,a,o){return So(),n.flags|=256,Ue(e,n,a,o),n.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(e){return{baseLanes:e,cachePool:hg()}}function gf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Sn),e}function Rp(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?nr(n):ir(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=$n;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:us!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||fs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Wf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=o.children,o=o.fallback,h?(ir(),h=n.mode,E=Mu({mode:"hidden",children:E},h),o=ls(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=mf(a),h.childLanes=gf(e,y,a),n.memoizedState=df,o):(nr(n),pf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=_f(e,n,a)):n.memoizedState!==null?(ir(),n.child=e.child,n.flags|=128,n=null):(ir(),h=o.fallback,E=n.mode,o=Mu({mode:"visible",children:o.children},E),h=ls(h,E,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ha(n,e.child,null,a),o=n.child,o.memoizedState=mf(a),o.childLanes=gf(e,y,a),n.memoizedState=df,n=h);else if(nr(n),Wf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(r(419)),o.stack="",o.digest=y,bo({value:o,source:null,stack:null}),n=_f(e,n,a)}else if(Ce||Ro(e,n,a,!1),y=(a&e.childLanes)!==0,Ce||y){if(y=Wt,y!==null&&(o=a&-a,o=(o&42)!==0?1:Gi(o),o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ta(e,o),hn(y,e,o),pp;E.data==="$?"||Uf(),n=_f(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ae=Mn(E.nextSibling),Ze=n,Bt=!0,hs=null,$n=!1,e!==null&&(En[Tn++]=Si,En[Tn++]=bi,En[Tn++]=us,Si=e.id,bi=e.overflow,us=n),n=pf(n,o.children),n.flags|=4096);return n}return h?(ir(),h=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ai(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ai(L,h):(h=ls(h,E,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=mf(a):(b=E.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=hg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=gf(e,y,a),n.memoizedState=df,o):(nr(n),a=e.child,e=a.sibling,a=Ai(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function pf(e,n){return n=Mu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mu(e,n){return e=an(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _f(e,n,a){return ha(n,e.child,null,a),e=pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ph(e.return,n,a)}function yf(e,n,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Ip(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,n,o.children,a),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,a,n);else if(e.tag===19)wp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch($(Te,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Cu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),yf(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Cu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}yf(n,!0,a,null,f);break;case"together":yf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ro(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Ai(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ai(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fu(e)))}function A0(e,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Zi(n,Ee,e.memoizedState.cache),So();break;case 27:case 5:ji(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Rp(e,n,a):(nr(n),e=Di(e,n,a),e!==null?e.sibling:null);nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ro(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ip(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,Ep(e,n,a);case 24:Zi(n,Ee,e.memoizedState.cache)}return Di(e,n,a)}function Cp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!vf(e,a)&&(n.flags&128)===0)return Ce=!1,A0(e,n,a);Ce=(e.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&rg(n,hu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Ih(o)?(e=_s(o,e),n.tag=1,n=Sp(null,n,o,e,a)):(n.tag=0,n=ff(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Lt){n.tag=11,n=_p(null,n,o,e,a);break t}else if(h===N){n.tag=14,n=yp(null,n,o,e,a);break t}}throw n=Me(o)||o,Error(r(306,n,""))}}return n;case 0:return ff(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=_s(o,n.pendingProps),Sp(e,n,o,h,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,qh(e,n),Mo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Zi(n,Ee,o),o!==f.cache&&Uh(n,[Ee],a,!0),No(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bp(e,n,o,a);break t}else if(o!==h){h=yn(Error(r(424)),n),bo(h),n=bp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Mn(e.firstChild),Ze=n,Bt=!0,hs=null,$n=!0,a=ap(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(So(),o===h){n=Di(e,n,a);break t}Ue(e,n,o,a)}n=n.child}return n;case 26:return Nu(e,n),e===null?(a=M_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=Ku(pt.current).createElement(a),o[_e]=n,o[fe]=e,Le(o,a,e),le(o),n.stateNode=o):n.memoizedState=M_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ji(n),e===null&&Bt&&(o=n.stateNode=D_(n.type,n.pendingProps,pt.current),Ze=n,$n=!0,h=ae,fr(n.type)?(Jf=h,ae=Mn(o.firstChild)):ae=h),Ue(e,n,n.pendingProps.children,a),Nu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=$0(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,Ze=n,ae=Mn(o.firstChild),$n=!1,h=!0):h=!1),h||fs(n)),ji(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Xf(h,f)?o=null:y!==null&&Xf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Qh(e,n,m0,null,null,a),tl._currentValue=h),Nu(e,n),Ue(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=Z0(a,n.pendingProps,$n),a!==null?(n.stateNode=a,Ze=n,ae=null,e=!0):e=!1),e||fs(n)),null;case 13:return Rp(e,n,a);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ha(n,null,o,a):Ue(e,n,o,a),n.child;case 11:return _p(e,n,n.type,n.pendingProps,a);case 7:return Ue(e,n,n.pendingProps,a),n.child;case 8:return Ue(e,n,n.pendingProps.children,a),n.child;case 12:return Ue(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Zi(n,n.type,o.value),Ue(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ms(n),h=He(h),o=o(h),n.flags|=1,Ue(e,n,o,a),n.child;case 14:return yp(e,n,n.type,n.pendingProps,a);case 15:return vp(e,n,n.type,n.pendingProps,a);case 19:return Ip(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Mu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ai(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Ep(e,n,a);case 24:return ms(n),o=He(Ee),e===null?(h=xh(),h===null&&(h=Wt,f=kh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Bh(n),Zi(n,Ee,h)):((e.lanes&a)!==0&&(qh(e,n),Mo(n,null,null,a),No()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zi(n,Ee,o)):(o=f.cache,Zi(n,Ee,o),o!==h.cache&&Uh(n,[Ee],a,!0))),Ue(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Oi(e){e.flags|=4}function Dp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(n)){if(n=An.current,n!==null&&((Ut&4194048)===Ut?Zn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Zn))throw Do=zh,fg;e.flags|=8192}}function Vu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eo():536870912,e.lanes|=n,ga|=n)}function zo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function S0(e,n,a){var o=n.pendingProps;switch(Nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wi(Ee),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ao(n)?Oi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,og())),ne(n),null;case 26:return a=n.memoizedState,e===null?(Oi(n),a!==null?(ne(n),Dp(n,a)):(ne(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Oi(n),ne(n),Dp(n,a)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Oi(n),ne(n),n.flags&=-16777217),null;case 27:ui(n),a=pt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ne(n),null}e=lt.current,Ao(n)?sg(n):(e=D_(h,o,a),n.stateNode=e,Oi(n))}return ne(n),null;case 5:if(ui(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(e=lt.current,Ao(n))sg(n);else{switch(h=Ku(pt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[_e]=n,e[fe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Oi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=pt.current,Ao(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||A_(e.nodeValue,a)),e||fs(n)}else e=Ku(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ao(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=n}else So(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=og(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Vu(n,n.updateQueue),ne(n),null;case 4:return xn(),e===null&&Gf(n.stateNode.containerInfo),ne(n),null;case 10:return wi(n.type),ne(n),null;case 19:if(et(Te),h=n.memoizedState,h===null)return ne(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)zo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Cu(e),f!==null){for(n.flags|=128,zo(h,!1),e=f.updateQueue,n.updateQueue=e,Vu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)ig(a,e),a=a.sibling;return $(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&fn()>ku&&(n.flags|=128,o=!0,zo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Cu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Vu(n,e),zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*fn()-h.renderingStartTime>ku&&a!==536870912&&(n.flags|=128,o=!0,zo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=fn(),n.sibling=null,e=Te.current,$(Te,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return Ci(n),Fh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Vu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&et(gs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function b0(e,n){switch(Nh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(Ee),xn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Ci(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));So()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Te),null;case 4:return xn(),null;case 10:return wi(n.type),null;case 22:case 23:return Ci(n),Fh(),e!==null&&et(gs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(Ee),null;case 25:return null;default:return null}}function Op(e,n){switch(Nh(n),n.tag){case 3:wi(Ee),xn();break;case 26:case 27:case 5:ui(n);break;case 4:xn();break;case 13:Ci(n);break;case 19:et(Te);break;case 10:wi(n.type);break;case 22:case 23:Ci(n),Fh(),e!==null&&et(gs);break;case 24:wi(Ee)}}function Bo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(n,n.return,E)}}function rr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var b=a,L=E;try{L()}catch(j){$t(h,b,j)}}}o=o.next}while(o!==f)}}catch(j){$t(n,n.return,j)}}function Np(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{yg(n,a)}catch(o){$t(e,e.return,o)}}}function Mp(e,n,a){a.props=_s(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function qo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function Wn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function Vp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Ef(e,n,a){try{var o=e.stateNode;F0(o,e.type,a,n),o[fe]=n}catch(h){$t(e,e.return,h)}}function Pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function Tf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Af(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fu));else if(o!==4&&(o===27&&fr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Af(e,n,a),e=e.sibling;e!==null;)Af(e,n,a),e=e.sibling}function Pu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Pu(e,n,a),e=e.sibling;e!==null;)Pu(e,n,a),e=e.sibling}function Up(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Le(n,o,a),n[_e]=e,n[fe]=a}catch(f){$t(e,e.return,f)}}var Ni=!1,ce=!1,Sf=!1,kp=typeof WeakSet=="function"?WeakSet:Set,De=null;function R0(e,n){if(e=e.containerInfo,Qf=Wu,e=Qm(e),Eh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,L=0,j=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(b=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(E=y),z===f&&++j===o&&(b=y),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yf={focusedElem:e,selectionRange:a},Wu=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var mt=_s(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(mt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){$t(a,a.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Zf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function Lp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:sr(e,a),o&4&&Bo(5,a);break;case 1:if(sr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){$t(a,a.return,y)}else{var h=_s(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}o&64&&Np(a),o&512&&qo(a,a.return);break;case 3:if(sr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(e,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&o&4&&Up(a);case 26:case 5:sr(e,a),n===null&&o&4&&Vp(a),o&512&&qo(a,a.return);break;case 12:sr(e,a);break;case 13:sr(e,a),o&4&&Bp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=P0.bind(null,a),W0(e,a))));break;case 22:if(o=a.memoizedState!==null||Ni,!o){n=n!==null&&n.memoizedState!==null||ce,h=Ni;var f=ce;Ni=o,(ce=n)&&!f?ar(e,a,(a.subtreeFlags&8772)!==0):sr(e,a),Ni=h,ce=f}break;case 30:break;default:sr(e,a)}}function xp(e){var n=e.alternate;n!==null&&(e.alternate=null,xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,Je=!1;function Mi(e,n,a){for(a=a.child;a!==null;)zp(e,n,a),a=a.sibling}function zp(e,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||Wn(a,n),Mi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||Wn(a,n);var o=te,h=Je;fr(a.type)&&(te=a.stateNode,Je=!1),Mi(e,n,a),$o(a.stateNode),te=o,Je=h;break;case 5:ce||Wn(a,n);case 6:if(o=te,h=Je,te=null,Mi(e,n,a),te=o,Je=h,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{te.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:te!==null&&(Je?(e=te,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rl(e)):I_(te,a.stateNode));break;case 4:o=te,h=Je,te=a.stateNode.containerInfo,Je=!0,Mi(e,n,a),te=o,Je=h;break;case 0:case 11:case 14:case 15:ce||rr(2,a,n),ce||rr(4,a,n),Mi(e,n,a);break;case 1:ce||(Wn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Mp(a,n,o)),Mi(e,n,a);break;case 21:Mi(e,n,a);break;case 22:ce=(o=ce)||a.memoizedState!==null,Mi(e,n,a),ce=o;break;default:Mi(e,n,a)}}function Bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(a){$t(n,n.return,a)}}function w0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new kp),n;default:throw Error(r(435,e.tag))}}function bf(e,n){var a=w0(e);n.forEach(function(o){var h=U0.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(r(160));zp(f,y,h),te=null,Je=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)qp(n,e),n=n.sibling}var Nn=null;function qp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(rr(3,e,e.return),Bo(3,e),rr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),o&64&&Ni&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Nn;if(on(n,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Kr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,a),f[_e]=e,le(f),o=f;break t;case"link":var y=U_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;case"meta":if(y=U_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,le(f),o=f}e.stateNode=o}else k_(h,e.type,e.stateNode);else e.stateNode=P_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?k_(h,e.type,e.stateNode):P_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),a!==null&&o&4&&Ef(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ef(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Sf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(Xu=null,h=Nn,Nn=Qu(n.containerInfo),on(n,e),Nn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(B){$t(e,e.return,B)}Sf&&(Sf=!1,Hp(e));break;case 4:o=Nn,Nn=Qu(e.stateNode.containerInfo),on(n,e),ln(e),Nn=o;break;case 12:on(n,e),ln(e);break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Of=fn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,bf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Ni,j=ce;if(Ni=L||h,ce=j||b,on(n,e),ce=j,Ni=L,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||b||Ni||ce||ys(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,bf(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,bf(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Pp(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Tf(e);Pu(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(mn(y,""),a.flags&=-33);var E=Tf(e);Pu(e,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Tf(e);Af(e,L,b);break;default:throw Error(r(161))}}catch(j){$t(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function sr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lp(e,n.alternate,n),n=n.sibling}function ys(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),ys(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Mp(n,n.return,a),ys(n);break;case 27:$o(n.stateNode);case 26:case 5:Wn(n,n.return),ys(n);break;case 22:n.memoizedState===null&&ys(n);break;case 30:ys(n);break;default:ys(n)}e=e.sibling}}function ar(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,a),Bo(4,f);break;case 1:if(ar(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)_g(b[h],E)}catch(L){$t(o,o.return,L)}}a&&y&64&&Np(f),qo(f,f.return);break;case 27:Up(f);case 26:case 5:ar(h,f,a),a&&o===null&&y&4&&Vp(f),qo(f,f.return);break;case 12:ar(h,f,a);break;case 13:ar(h,f,a),a&&y&4&&Bp(h,f);break;case 22:f.memoizedState===null&&ar(h,f,a),qo(f,f.return);break;case 30:break;default:ar(h,f,a)}n=n.sibling}}function Rf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&wo(a))}function wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wo(e))}function Jn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jp(e,n,a,o),n=n.sibling}function jp(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,a,o),h&2048&&Bo(9,n);break;case 1:Jn(e,n,a,o);break;case 3:Jn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wo(e)));break;case 12:if(h&2048){Jn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else Jn(e,n,a,o);break;case 13:Jn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,a,o):Ho(e,n):f._visibility&2?Jn(e,n,a,o):(f._visibility|=2,fa(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Rf(y,n);break;case 24:Jn(e,n,a,o),h&2048&&wf(n.alternate,n);break;default:Jn(e,n,a,o)}}function fa(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,E=a,b=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:fa(f,y,E,b,h),Bo(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?fa(f,y,E,b,h):Ho(f,y):(j._visibility|=2,fa(f,y,E,b,h)),h&&L&2048&&Rf(y.alternate,y);break;case 24:fa(f,y,E,b,h),h&&L&2048&&wf(y.alternate,y);break;default:fa(f,y,E,b,h)}n=n.sibling}}function Ho(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Ho(a,o),h&2048&&Rf(o.alternate,o);break;case 24:Ho(a,o),h&2048&&wf(o.alternate,o);break;default:Ho(a,o)}n=n.sibling}}var jo=8192;function da(e){if(e.subtreeFlags&jo)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 26:da(e),e.flags&jo&&e.memoizedState!==null&&hA(Nn,e.memoizedState,e.memoizedProps);break;case 5:da(e);break;case 3:case 4:var n=Nn;Nn=Qu(e.stateNode.containerInfo),da(e),Nn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=jo,jo=16777216,da(e),jo=n):da(e));break;default:da(e)}}function Fp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Go(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];De=o,Qp(o,e)}Fp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 0:case 11:case 15:Go(e),e.flags&2048&&rr(9,e,e.return);break;case 3:Go(e);break;case 12:Go(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Uu(e)):Go(e);break;default:Go(e)}}function Uu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];De=o,Qp(o,e)}Fp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:rr(8,n,n.return),Uu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(n));break;default:Uu(n)}e=e.sibling}}function Qp(e,n){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:rr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:wo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,De=o;else t:for(a=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(xp(o),o===a){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var I0={getCacheForType:function(e){var n=He(Ee),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},C0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ct=null,Ut=0,Ft=0,un=null,or=!1,ma=!1,If=!1,Vi=0,oe=0,lr=0,vs=0,Cf=0,Sn=0,ga=0,Fo=null,tn=null,Df=!1,Of=0,ku=1/0,Lu=null,ur=null,ke=0,cr=null,pa=null,_a=0,Nf=0,Mf=null,Yp=null,Ko=0,Vf=null;function cn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(H.T!==null){var e=ra;return e!==0?e:Bf()}return Fi()}function Xp(){Sn===0&&(Sn=(Ut&536870912)===0||Bt?to():536870912);var e=An.current;return e!==null&&(e.flags|=32),Sn}function hn(e,n,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(ya(e,0),hr(e,Ut,Sn,!1)),hi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(vs|=a),oe===4&&hr(e,Ut,Sn,!1)),ti(e))}function $p(e,n,a){if((Gt&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Fr(e,n),h=o?N0(e,n):kf(e,n,!0),f=o;do{if(h===0){ma&&!o&&hr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!D0(a)){h=kf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Fo;var b=E.current.memoizedState.isDehydrated;if(b&&(ya(E,y).flags|=256),y=kf(E,y,!1),y!==2){if(If&&!b){E.errorRecoveryDisabledLanes|=f,vs|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){ya(e,0),hr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:hr(o,n,Sn,!or);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Of+300-fn(),10<h)){if(hr(o,n,Sn,!or),Us(o,0,!0)!==0)break t;o.timeoutHandle=R_(Zp.bind(null,o,a,tn,Lu,Df,n,Sn,vs,ga,or,f,2,-0,0),h);break t}Zp(o,a,tn,Lu,Df,n,Sn,vs,ga,or,f,0,-0,0)}}break}while(!0);ti(e)}function Zp(e,n,a,o,h,f,y,E,b,L,j,K,z,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Jo={stylesheets:null,count:0,unsuspend:cA},Gp(n),K=fA(),K!==null)){e.cancelPendingCommit=K(r_.bind(null,e,n,f,a,o,h,y,E,b,j,1,z,B)),hr(e,f,y,!L);return}r_(e,n,f,a,o,h,y,E,b)}function D0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(e,n,a,o){n&=~Cf,n&=~vs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&zn(e,a,n)}function xu(){return(Gt&6)===0?(Qo(0),!1):!0}function Pf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Ri=ds=null,$h(e),ca=null,Lo=0,e=Ct;for(;e!==null;)Op(e.alternate,e),e=e.return;Ct=null}}function ya(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Q0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pf(),Wt=e,Ct=a=Ai(e.current,null),Ut=n,Ft=0,un=null,or=!1,ma=Fr(e,n),If=!1,ga=Sn=Cf=vs=lr=oe=0,tn=Fo=null,Df=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-qe(o),f=1<<h;n|=e[h],o&=~f}return Vi=n,au(),a}function Wp(e,n){bt=null,H.H=Ru,n===Co||n===gu?(n=gg(),Ft=3):n===fg?(n=gg(),Ft=4):Ft=n===pp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Ct===null&&(oe=1,Ou(e,yn(n,e.current)))}function Jp(){var e=H.H;return H.H=Ru,e===null?Ru:e}function t_(){var e=H.A;return H.A=I0,e}function Uf(){oe=4,or||(Ut&4194048)!==Ut&&An.current!==null||(ma=!0),(lr&134217727)===0&&(vs&134217727)===0||Wt===null||hr(Wt,Ut,Sn,!1)}function kf(e,n,a){var o=Gt;Gt|=2;var h=Jp(),f=t_();(Wt!==e||Ut!==n)&&(Lu=null,ya(e,n)),n=!1;var y=oe;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,b=un;switch(Ft){case 8:Pf(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var L=Ft;if(Ft=0,un=null,va(e,E,b,L),a&&ma){y=0;break t}break;default:L=Ft,Ft=0,un=null,va(e,E,b,L)}}O0(),y=oe;break}catch(j){Wp(e,j)}while(!0);return n&&e.shellSuspendCounter++,Ri=ds=null,Gt=o,H.H=h,H.A=f,Ct===null&&(Wt=null,Ut=0,au()),y}function O0(){for(;Ct!==null;)e_(Ct)}function N0(e,n){var a=Gt;Gt|=2;var o=Jp(),h=t_();Wt!==e||Ut!==n?(Lu=null,ku=fn()+500,ya(e,n)):ma=Fr(e,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=un;e:switch(Ft){case 1:Ft=0,un=null,va(e,n,f,1);break;case 2:case 9:if(dg(f)){Ft=0,un=null,n_(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:dg(f)?(Ft=0,un=null,n_(n)):(Ft=0,un=null,va(e,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||L_(y)){Ft=0,un=null;var b=E.sibling;if(b!==null)Ct=b;else{var L=E.return;L!==null?(Ct=L,zu(L)):Ct=null}break e}}Ft=0,un=null,va(e,n,f,5);break;case 6:Ft=0,un=null,va(e,n,f,6);break;case 8:Pf(),oe=6;break t;default:throw Error(r(462))}}M0();break}catch(j){Wp(e,j)}while(!0);return Ri=ds=null,H.H=o,H.A=h,Gt=a,Ct!==null?0:(Wt=null,Ut=0,au(),oe)}function M0(){for(;Ct!==null&&!$a();)e_(Ct)}function e_(e){var n=Cp(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,n===null?zu(e):Ct=n}function n_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Ap(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Ap(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:$h(n);default:Op(a,n),n=Ct=ig(n,Vi),n=Cp(a,n,Vi)}e.memoizedProps=e.pendingProps,n===null?zu(e):Ct=n}function va(e,n,a,o){Ri=ds=null,$h(n),ca=null,Lo=0;var h=n.return;try{if(T0(e,h,n,a,Ut)){oe=1,Ou(e,yn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;oe=1,Ou(e,yn(a,e.current)),Ct=null;return}n.flags&32768?(Bt||o===1?e=!0:ma||(Ut&536870912)!==0?e=!1:(or=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),i_(n,e)):zu(n)}function zu(e){var n=e;do{if((n.flags&32768)!==0){i_(n,or);return}e=n.return;var a=S0(n.alternate,n,Vi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);oe===0&&(oe=5)}function i_(e,n){do{var a=b0(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);oe=6,Ct=null}function r_(e,n,a,o,h,f,y,E,b){e.cancelPendingCommit=null;do Bu();while(ke!==0);if((Gt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Rh,no(e,a,f,y,E,b),e===Wt&&(Ct=Wt=null,Ut=0),pa=n,cr=e,_a=a,Nf=f,Mf=h,Yp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k0(qr,function(){return u_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,y=Gt,Gt|=4;try{R0(e,n,a)}finally{Gt=y,tt.p=h,H.T=o}}ke=1,s_(),a_(),o_()}}function s_(){if(ke===1){ke=0;var e=cr,n=pa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{qp(n,e);var f=Yf,y=Qm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Km(E.ownerDocument.documentElement,E)){if(b!==null&&Eh(E)){var L=b.start,j=b.end;if(j===void 0&&(j=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(j,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Xt=b.end===void 0?ct:Math.min(b.end,mt);!B.extend&&ct>Xt&&(y=Xt,Xt=ct,ct=y);var V=Fm(E,ct),D=Fm(E,Xt);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var k=K.createRange();k.setStart(V.node,V.offset),B.removeAllRanges(),ct>Xt?(B.addRange(k),B.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),B.addRange(k))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Wu=!!Qf,Yf=Qf=null}finally{Gt=h,tt.p=o,H.T=a}}e.current=n,ke=2}}function a_(){if(ke===2){ke=0;var e=cr,n=pa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Lp(e,n.alternate,n)}finally{Gt=h,tt.p=o,H.T=a}}ke=3}}function o_(){if(ke===4||ke===3){ke=0,Ul();var e=cr,n=pa,a=_a,o=Yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,pa=cr=null,l_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ur=null),ks(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(_a&3)!==0&&Bu(),ti(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Vf?Ko++:(Ko=0,Vf=e):Ko=0,Qo(0)}}function l_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,wo(n)))}function Bu(e){return s_(),a_(),o_(),u_()}function u_(){if(ke!==5)return!1;var e=cr,n=Nf;Nf=0;var a=ks(_a),o=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Mf,Mf=null;var f=cr,y=_a;if(ke=0,pa=cr=null,_a=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,Kp(f.current),jp(f,f.current,y,a),Gt=E,Qo(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,H.T=o,l_(e,n)}}function c_(e,n,a){n=yn(a,n),n=hf(e.stateNode,n,2),e=tr(e,n,2),e!==null&&(hi(e,2),ti(e))}function $t(e,n,a){if(e.tag===3)c_(e,e,a);else for(;n!==null;){if(n.tag===3){c_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=yn(a,e),a=mp(2),o=tr(n,a,2),o!==null&&(gp(a,o,n,e),hi(o,2),ti(o));break}}n=n.return}}function Lf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new C0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(If=!0,h.add(a),e=V0.bind(null,e,n,a),n.then(e,e))}function V0(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>fn()-Of?(Gt&2)===0&&ya(e,0):Cf|=a,ga===Ut&&(ga=0)),ti(e)}function h_(e,n){n===0&&(n=eo()),e=ta(e,n),e!==null&&(hi(e,n),ti(e))}function P0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),h_(e,a)}function U0(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),h_(e,a)}function k0(e,n){return zr(e,n)}var qu=null,Ea=null,xf=!1,Hu=!1,zf=!1,Es=0;function ti(e){e!==Ea&&e.next===null&&(Ea===null?qu=Ea=e:Ea=Ea.next=e),Hu=!0,xf||(xf=!0,x0())}function Qo(e,n){if(!zf&&Hu){zf=!0;do for(var a=!1,o=qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,g_(o,f))}else f=Ut,f=Us(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fr(o,f)||(a=!0,g_(o,f));o=o.next}while(a);zf=!1}}function L0(){f_()}function f_(){Hu=xf=!1;var e=0;Es!==0&&(K0()&&(e=Es),Es=0);for(var n=fn(),a=null,o=qu;o!==null;){var h=o.next,f=d_(o,n);f===0?(o.next=null,a===null?qu=h:a.next=h,h===null&&(Ea=a)):(a=o,(e!==0||(f&3)!==0)&&(Hu=!0)),o=h}Qo(e)}function d_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,b=h[y];b===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Ja(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Ut,a=Us(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Br(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Br(o),ks(a)){case 2:case 8:a=Vs;break;case 32:a=qr;break;case 268435456:a=Ps;break;default:a=qr}return o=m_.bind(null,e),a=zr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Br(o),e.callbackPriority=2,e.callbackNode=null,2}function m_(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Bu()&&e.callbackNode!==a)return null;var o=Ut;return o=Us(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:($p(e,o,n),d_(e,fn()),e.callbackNode!=null&&e.callbackNode===a?m_.bind(null,e):null)}function g_(e,n){if(Bu())return null;$p(e,n,!0)}function x0(){Y0(function(){(Gt&6)!==0?zr(Za,L0):f_()})}function Bf(){return Es===0&&(Es=to()),Es}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hs(""+e)}function __(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function z0(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=p_((h[fe]||null).action),y=o.submitter;y&&(n=(n=y[fe]||null)?p_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new js("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Es!==0){var b=y?__(h,y):new FormData(h);af(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?__(h,y):new FormData(h),af(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var qf=0;qf<bh.length;qf++){var Hf=bh[qf],B0=Hf.toLowerCase(),q0=Hf[0].toUpperCase()+Hf.slice(1);On(B0,"on"+q0)}On($m,"onAnimationEnd"),On(Zm,"onAnimationIteration"),On(Wm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(r0,"onTransitionRun"),On(s0,"onTransitionStart"),On(a0,"onTransitionCancel"),On(Jm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function y_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(j){Du(j)}h.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(j){Du(j)}h.currentTarget=null,f=b}}}}function Dt(e,n){var a=n[ro];a===void 0&&(a=n[ro]=new Set);var o=e+"__bubble";a.has(o)||(v_(n,e,2,!1),a.add(o))}function jf(e,n,a){var o=0;n&&(o|=4),v_(a,e,o,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[ju]){e[ju]=!0,so.forEach(function(a){a!=="selectionchange"&&(H0.has(a)||jf(a,!1,e),jf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ju]||(n[ju]=!0,jf("selectionchange",!1,n))}}function v_(e,n,a,o){switch(j_(n)){case 2:var h=gA;break;case 8:h=pA;break;default:h=rd}a=h.bind(null,n,a,e),h=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ff(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=fi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Fl(function(){var L=f,j=gn(a),K=[];t:{var z=tg.get(e);if(z!==void 0){var B=js,mt=e;switch(e){case"keypress":if(Fn(a)===0)break t;case"keydown":case"keyup":B=Xs;break;case"focusin":mt="focus",B=Ks;break;case"focusout":mt="blur",B=Ks;break;case"beforeblur":case"afterblur":B=Ks;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Jl;break;case $m:case Zm:case Wm:B=Qs;break;case Jm:B=eu;break;case"scroll":case"scrollend":B=Kl;break;case"wheel":B=$s;break;case"copy":case"cut":case"paste":B=Ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=yo;break;case"toggle":case"beforetoggle":B=iu}var ct=(n&4)!==0,Xt=!ct&&(e==="scroll"||e==="scrollend"),V=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=L,k;D!==null;){var G=D;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||V===null||(G=Jr(D,V),G!=null&&ct.push(Xo(D,G,k))),Xt)break;D=D.return}0<ct.length&&(z=new B(z,mt,null,a,j),K.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==pi&&(mt=a.relatedTarget||a.fromElement)&&(fi(mt)||mt[dn]))break t;if((B||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,B?(mt=a.relatedTarget||a.toElement,B=L,mt=mt?fi(mt):null,mt!==null&&(Xt=c(mt),ct=mt.tag,mt!==Xt||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(B=null,mt=L),B!==mt)){if(ct=_n,G="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=yo,G="onPointerLeave",V="onPointerEnter",D="pointer"),Xt=B==null?z:qn(B),k=mt==null?z:qn(mt),z=new ct(G,D+"leave",B,a,j),z.target=Xt,z.relatedTarget=k,G=null,fi(j)===L&&(ct=new ct(V,D+"enter",mt,a,j),ct.target=k,ct.relatedTarget=Xt,G=ct),Xt=G,B&&mt)e:{for(ct=B,V=mt,D=0,k=ct;k;k=Ta(k))D++;for(k=0,G=V;G;G=Ta(G))k++;for(;0<D-k;)ct=Ta(ct),D--;for(;0<k-D;)V=Ta(V),k--;for(;D--;){if(ct===V||V!==null&&ct===V.alternate)break e;ct=Ta(ct),V=Ta(V)}ct=null}else ct=null;B!==null&&E_(K,z,B,ct,!1),mt!==null&&Xt!==null&&E_(K,Xt,mt,ct,!0)}}t:{if(z=L?qn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=zm;else if(ve(z))if(Bm)rt=e0;else{rt=JT;var It=WT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&co(L.elementType)&&(rt=zm):rt=t0;if(rt&&(rt=rt(e,L))){Ti(K,rt,a,j);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Xi(z,"number",z.value)}switch(It=L?qn(L):window,e){case"focusin":(ve(It)||It.contentEditable==="true")&&(Zs=It,Th=L,To=null);break;case"focusout":To=Th=Zs=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,Ym(K,a,j);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":Ym(K,a,j)}var st;if(Yn)t:{switch(e){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?q(e,a)&&(ht="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(_&&a.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=fo()):(Gn=j,$i="value"in Gn?Gn.value:Gn.textContent,Vt=!0)),It=Gu(L,ht),0<It.length&&(ht=new po(ht,e,null,a,j),K.push({event:ht,listeners:It}),st?ht.data=st:(st=J(a),st!==null&&(ht.data=st)))),(st=m?ye(e,a):Pt(e,a))&&(ht=Gu(L,"onBeforeInput"),0<ht.length&&(It=new po("onBeforeInput","beforeinput",null,a,j),K.push({event:It,listeners:ht}),It.data=st)),z0(K,e,L,a,j)}y_(K,n)})}function Xo(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Gu(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jr(e,a),h!=null&&o.unshift(Xo(e,h,f)),h=Jr(e,n),h!=null&&o.push(Xo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function E_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Jr(a,f),L!=null&&y.unshift(Xo(a,L,b))):h||(L=Jr(a,f),L!=null&&y.push(Xo(a,L,b)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var j0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function T_(e){return(typeof e=="string"?e:""+e).replace(j0,`
`).replace(G0,"")}function A_(e,n){return n=T_(n),T_(e)===n}function Fu(){}function Yt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":Hn(e,"class",o);break;case"tabIndex":Hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,a,o);break;case"style":uo(e,o,f);break;case"data":if(n!=="object"){Hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fu);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Hs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Yi(e,"popover",o);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mh.get(a)||a,Yi(e,a,o))}}function Kf(e,n,a,o,h,f){switch(a){case"style":uo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Yi(e,a,o)}}}function Le(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,f,y,a,null)}}h&&Yt(e,n,"srcSet",a.srcSet,a,null),o&&Yt(e,n,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=f=y=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":h=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":L=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Yt(e,n,o,j,a,null)}}$r(e,f,E,b,L,y,h,!1),qs(e);return;case"select":Dt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Yt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?gi(e,!!o,n,!1):a!=null&&gi(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(e,n,y,E,a,null)}Zr(e,o,h,f),qs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,b,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Yo.length;o++)Dt(Yo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,L,o,a,null)}return;default:if(co(n)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&Kf(e,n,j,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,n,E,o,a,null))}function F0(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,b=null,L=null,j=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(B)||Yt(e,n,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":j=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==K&&Yt(e,n,z,B,o,K)}}rn(e,y,E,b,L,j,f,h);return;case"select":B=y=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(e,n,h,f,o,b)}n=E,a=y,o=B,z!=null?gi(e,!!a,z,!1):!!o!=!!a&&(n!=null?gi(e,!!a,n,!0):gi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Yt(e,n,y,h,o,f)}Kt(e,z,B);return;case"option":for(var mt in a)if(z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Yt(e,n,mt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)z=a[ct],a.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Yt(e,n,ct,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Yt(e,n,L,z,o,B)}return;default:if(co(n)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&Kf(e,n,Xt,void 0,o,z);for(j in o)z=o[j],B=a[j],!o.hasOwnProperty(j)||z===B||z===void 0&&B===void 0||Kf(e,n,j,z,o,B);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Yt(e,n,V,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Yt(e,n,K,z,o,B)}var Qf=null,Yf=null;function Ku(e){return e.nodeType===9?e:e.ownerDocument}function S_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $f=null;function K0(){var e=window.event;return e&&e.type==="popstate"?e===$f?!1:($f=e,!0):($f=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(e){return w_.resolve(null).then(e).catch(X0)}:R_;function X0(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function I_(e,n){var a=n,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var y=e.ownerDocument;if(a&1&&$o(y.documentElement),a&2&&$o(y.body),a&4)for(a=y.head,$o(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Kr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(h===0){e.removeChild(f),rl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);rl(n)}function Zf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zf(a),Qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $0(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Kr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function Z0(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function Wf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function W0(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Jf=null;function C_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function D_(e,n,a){switch(n=Ku(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function $o(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qi(e)}var bn=new Map,O_=new Set;function Qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=tt.d;tt.d={f:J0,r:tA,D:eA,C:nA,L:iA,m:rA,X:aA,S:sA,M:oA};function J0(){var e=Pi.f(),n=xu();return e||n}function tA(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?$g(n):Pi.r(e)}var Aa=typeof document>"u"?null:document;function N_(e,n,a){var o=Aa;if(o&&typeof n=="string"&&n){var h=de(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Le(n,"link",e),le(n),o.head.appendChild(n)))}}function eA(e){Pi.D(e),N_("dns-prefetch",e,null)}function nA(e,n){Pi.C(e,n),N_("preconnect",e,n)}function iA(e,n,a){Pi.L(e,n,a);var o=Aa;if(o&&e&&n){var h='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+de(a.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(n){case"style":f=Sa(e);break;case"script":f=ba(e)}bn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Zo(f))||n==="script"&&o.querySelector(Wo(f))||(n=o.createElement("link"),Le(n,"link",e),le(n),o.head.appendChild(n)))}}function rA(e,n){Pi.m(e,n);var a=Aa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ba(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),bn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wo(f)))return}o=a.createElement("link"),Le(o,"link",e),le(o),a.head.appendChild(o)}}}function sA(e,n,a){Pi.S(e,n,a);var o=Aa;if(o&&e){var h=Ye(o).hoistableStyles,f=Sa(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Zo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=bn.get(f))&&td(e,a);var b=y=o.createElement("link");le(b),Le(b,"link",e),b._p=new Promise(function(L,j){b.onload=L,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Yu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function aA(e,n){Pi.X(e,n);var a=Aa;if(a&&e){var o=Ye(a).hoistableScripts,h=ba(e),f=o.get(h);f||(f=a.querySelector(Wo(h)),f||(e=A({src:e,async:!0},n),(n=bn.get(h))&&ed(e,n),f=a.createElement("script"),le(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function oA(e,n){Pi.M(e,n);var a=Aa;if(a&&e){var o=Ye(a).hoistableScripts,h=ba(e),f=o.get(h);f||(f=a.querySelector(Wo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=bn.get(h))&&ed(e,n),f=a.createElement("script"),le(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function M_(e,n,a,o){var h=(h=pt.current)?Qu(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Sa(a.href),a=Ye(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Sa(a.href);var f=Ye(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Zo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(e,a),f||lA(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ba(a),a=Ye(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Sa(e){return'href="'+de(e)+'"'}function Zo(e){return'link[rel="stylesheet"]['+e+"]"}function V_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function lA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Le(n,"link",a),le(n),e.head.appendChild(n))}function ba(e){return'[src="'+de(e)+'"]'}function Wo(e){return"script[async]"+e}function P_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+de(a.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Le(o,"style",h),Yu(o,a.precedence,e),n.instance=o;case"stylesheet":h=Sa(a.href);var f=e.querySelector(Zo(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=V_(a),(h=bn.get(h))&&td(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",o),n.state.loading|=4,Yu(f,a.precedence,e),n.instance=f;case"script":return f=ba(a.src),(h=e.querySelector(Wo(f)))?(n.instance=h,le(h),h):(o=a,(h=bn.get(f))&&(o=A({},a),ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Le(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Yu(o,a.precedence,e));return n.instance}function Yu(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xu=null;function U_(e,n,a){if(Xu===null){var o=new Map,h=Xu=new Map;h.set(a,o)}else h=Xu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Kr]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function k_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function uA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Jo=null;function cA(){}function hA(e,n,a){if(Jo===null)throw Error(r(475));var o=Jo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Sa(a.href),f=e.querySelector(Zo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=$u.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,a=V_(a),(h=bn.get(h))&&td(a,h),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=$u.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function fA(){if(Jo===null)throw Error(r(475));var e=Jo;return e.stylesheets&&e.count===0&&nd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function nd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,n.forEach(dA,e),Zu=null,$u.call(e))}function dA(e,n){if(!(n.state.loading&4)){var a=Zu.get(e);if(a)var o=a.get(null);else{a=new Map,Zu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var tl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function mA(e,n,a,o,h,f,y,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function x_(e,n,a,o,h,f,y,E,b,L,j,K){return e=new mA(e,n,a,y,E,b,L,K),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=kh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Bh(f),e}function z_(e){return e?(e=ea,e):ea}function B_(e,n,a,o,h,f){h=z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ji(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=tr(e,o,n),a!==null&&(hn(a,e,n),Oo(a,e,n))}function q_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function id(e,n){q_(e,n),(e=e.alternate)&&q_(e,n)}function H_(e){if(e.tag===13){var n=ta(e,67108864);n!==null&&hn(n,e,67108864),id(e,67108864)}}var Wu=!0;function gA(e,n,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,rd(e,n,a,o)}finally{tt.p=f,H.T=h}}function pA(e,n,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,rd(e,n,a,o)}finally{tt.p=f,H.T=h}}function rd(e,n,a,o){if(Wu){var h=sd(o);if(h===null)Ff(e,n,o,Ju,a),G_(e,o);else if(yA(h,e,n,a,o))o.stopPropagation();else if(G_(e,o),n&4&&-1<_A.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}ti(f),(Gt&6)===0&&(ku=fn()+500,Qo(0))}}break;case 13:E=ta(f,2),E!==null&&hn(E,f,2),xu(),id(f,2)}if(f=sd(o),f===null&&Ff(e,n,o,Ju,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ff(e,n,o,null,a)}}function sd(e){return e=gn(e),ad(e)}var Ju=null;function ad(e){if(Ju=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ju=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lh()){case Za:return 2;case Vs:return 8;case qr:case uh:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var od=!1,dr=null,mr=null,gr=null,el=new Map,nl=new Map,pr=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,n){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":el.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(n.pointerId)}}function il(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&H_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yA(e,n,a,o,h){switch(n){case"focusin":return dr=il(dr,e,n,a,o,h),!0;case"dragenter":return mr=il(mr,e,n,a,o,h),!0;case"mouseover":return gr=il(gr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return el.set(f,il(el.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,nl.set(f,il(nl.get(f)||null,e,n,a,o,h)),!0}return!1}function F_(e){var n=fi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,xl(e.priority,function(){if(a.tag===13){var o=cn();o=Gi(o);var h=ta(a,o);h!==null&&hn(h,a,o),id(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=sd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);pi=o,a.target.dispatchEvent(o),pi=null}else return n=Bn(a),n!==null&&H_(n),e.blockedOn=a,!1;n.shift()}return!0}function K_(e,n,a){tc(e)&&a.delete(n)}function vA(){od=!1,dr!==null&&tc(dr)&&(dr=null),mr!==null&&tc(mr)&&(mr=null),gr!==null&&tc(gr)&&(gr=null),el.forEach(K_),nl.forEach(K_)}function ec(e,n){e.blockedOn===n&&(e.blockedOn=null,od||(od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vA)))}var nc=null;function Q_(e){nc!==e&&(nc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(ad(o||a)===null)continue;break}var f=Bn(a);f!==null&&(e.splice(n,3),n-=3,af(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function rl(e){function n(b){return ec(b,e)}dr!==null&&ec(dr,e),mr!==null&&ec(mr,e),gr!==null&&ec(gr,e),el.forEach(n),nl.forEach(n);for(var a=0;a<pr.length;a++){var o=pr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&pr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[fe]||null;if(typeof f=="function")y||Q_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[fe]||null)E=y.formAction;else if(ad(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Q_(a)}}}function ld(e){this._internalRoot=e}ic.prototype.render=ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=cn();B_(a,o,e,n,null,null)},ic.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;B_(e.current,2,null,e,null,null),xu(),n[dn]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<pr.length&&n!==0&&n<pr[a].priority;a++);pr.splice(a,0,e),a===0&&F_(e)}};var Y_=t.version;if(Y_!=="19.1.0")throw Error(r(527,Y_,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var EA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{se=rc.inject(EA),jt=rc}catch{}}return al.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=cp,f=hp,y=fp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=x_(e,1,!1,null,null,a,o,h,f,y,E,null),e[dn]=n.current,Gf(e),new ld(n)},al.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=cp,y=hp,E=fp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=x_(e,1,!0,n,a??null,o,h,f,y,E,b,L),n.context=z_(null),a=n.current,o=cn(),o=Gi(o),h=Ji(o),h.callback=null,tr(a,h,o),a=o,n.current.lanes=a,hi(n,a),ti(n),e[dn]=n.current,Gf(e),new ic(n)},al.version="19.1.0",al}var ry;function OA(){if(ry)return hd.exports;ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),hd.exports=DA(),hd.exports}var NA=OA();const MA="/pilvipalvelut/vko6/assets/react-CHdo91hT.svg",VA="/pilvipalvelut/vko6/vite.svg",PA=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},UA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,v=p?s[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let x=(g&15)<<2|v>>6,F=v&63;p||(F=64,d||(x=64)),r.push(i[A],i[I],i[x],i[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Mv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):UA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const I=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||v==null||I==null)throw new kA;const x=c<<2|g>>4;if(r.push(x),v!==64){const F=g<<4&240|v>>2;if(r.push(F),I!==64){const Z=v<<6&192|I;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(s){const t=Mv(s);return Vv.encodeByteArray(t,!0)},Ac=function(s){return LA(s).replace(/\./g,"")},Pv=function(s){try{return Vv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=()=>xA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof sy>"u")return;const s=sy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Pv(s[1]);return t&&JSON.parse(t)},jc=()=>{try{return PA()||zA()||BA()||qA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Uv=s=>{var t,i;return(i=(t=jc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},HA=s=>{const t=Uv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},kv=()=>{var s;return(s=jc())===null||s===void 0?void 0:s.config},Lv=s=>{var t;return(t=jc())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ac(JSON.stringify(i)),Ac(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function KA(){var s;const t=(s=jc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const s=Qe();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="FirebaseError";class Hi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=tS,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?eS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Hi(l,g,r)}}function eS(s,t){return s.replace(nS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const nS=/\{\$([^}]+)}/g;function iS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ss(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(ay(c)&&ay(d)){if(!Ss(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function ay(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ol(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function ll(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function rS(s,t){const i=new sS(s,t);return i.subscribe.bind(i)}class sS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");aS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=gd),l.error===void 0&&(l.error=gd),l.complete===void 0&&(l.complete=gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(s){return s&&s._delegate?s._delegate:s}class bs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new jA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uS(t))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ts){return this.instances.has(t)}getOptions(t=Ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){var r;const l=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ts){return this.component?this.component.multipleInstances?t:Ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(s){return s===Ts?void 0:s}function uS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new oS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const hS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},fS=Ot.INFO,dS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},mS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=dS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zd{constructor(t){this.name=t,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const gS=(s,t)=>t.some(i=>s instanceof i);let oy,ly;function pS(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,wd=new WeakMap,zv=new WeakMap,pd=new WeakMap,Wd=new WeakMap;function yS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(br(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&xv.set(i,s)}).catch(()=>{}),Wd.set(t,s),t}function vS(s){if(wd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});wd.set(s,t)}let Id={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return wd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ES(s){Id=s(Id)}function TS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(_d(this),t,...i);return zv.set(r,t.sort?t.sort():[t]),br(r)}:_S().includes(s)?function(...t){return s.apply(_d(this),t),br(xv.get(this))}:function(...t){return br(s.apply(_d(this),t))}}function AS(s){return typeof s=="function"?TS(s):(s instanceof IDBTransaction&&vS(s),gS(s,pS())?new Proxy(s,Id):s)}function br(s){if(s instanceof IDBRequest)return yS(s);if(pd.has(s))return pd.get(s);const t=AS(s);return t!==s&&(pd.set(s,t),Wd.set(t,s)),t}const _d=s=>Wd.get(s);function SS(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=br(d);return r&&d.addEventListener("upgradeneeded",p=>{r(br(d.result),p.oldVersion,p.newVersion,br(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const bS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],yd=new Map;function uy(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(yd.get(t))return yd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=RS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||bS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return yd.set(t,c),c}ES(s=>({...s,get:(t,i,r)=>uy(t,i)||s.get(t,i,r),has:(t,i)=>!!uy(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function IS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cd="@firebase/app",cy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Zd("@firebase/app"),CS="@firebase/app-compat",DS="@firebase/analytics-compat",OS="@firebase/analytics",NS="@firebase/app-check-compat",MS="@firebase/app-check",VS="@firebase/auth",PS="@firebase/auth-compat",US="@firebase/database",kS="@firebase/data-connect",LS="@firebase/database-compat",xS="@firebase/functions",zS="@firebase/functions-compat",BS="@firebase/installations",qS="@firebase/installations-compat",HS="@firebase/messaging",jS="@firebase/messaging-compat",GS="@firebase/performance",FS="@firebase/performance-compat",KS="@firebase/remote-config",QS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",$S="@firebase/firestore",ZS="@firebase/vertexai",WS="@firebase/firestore-compat",JS="firebase",tb="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",eb={[Cd]:"fire-core",[CS]:"fire-core-compat",[OS]:"fire-analytics",[DS]:"fire-analytics-compat",[MS]:"fire-app-check",[NS]:"fire-app-check-compat",[VS]:"fire-auth",[PS]:"fire-auth-compat",[US]:"fire-rtdb",[kS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[xS]:"fire-fn",[zS]:"fire-fn-compat",[BS]:"fire-iid",[qS]:"fire-iid-compat",[HS]:"fire-fcm",[jS]:"fire-fcm-compat",[GS]:"fire-perf",[FS]:"fire-perf-compat",[KS]:"fire-rc",[QS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[$S]:"fire-fst",[WS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,nb=new Map,Od=new Map;function hy(s,t){try{s.container.addComponent(t)}catch(i){xi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Pa(s){const t=s.name;if(Od.has(t))return xi.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,s);for(const i of Sc.values())hy(i,s);for(const i of nb.values())hy(i,s);return!0}function Jd(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Vn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new wl("app","Firebase",ib);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=tb;function tm(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Dd,automaticDataCollectionEnabled:!1},t),l=r.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(i||(i=kv()),!i)throw Rr.create("no-options");const c=Sc.get(l);if(c){if(Ss(i,c.options)&&Ss(r,c.config))return c;throw Rr.create("duplicate-app",{appName:l})}const d=new cS(l);for(const p of Od.values())d.addComponent(p);const g=new rb(i,r,d);return Sc.set(l,g),g}function Bv(s=Dd){const t=Sc.get(s);if(!t&&s===Dd&&kv())return tm();if(!t)throw Rr.create("no-app",{appName:s});return t}function wr(s,t,i){var r;let l=(r=eb[s])!==null&&r!==void 0?r:s;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Pa(new bs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firebase-heartbeat-database",ab=1,_l="firebase-heartbeat-store";let vd=null;function qv(){return vd||(vd=SS(sb,ab,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(_l)}catch(i){console.warn(i)}}}}).catch(s=>{throw Rr.create("idb-open",{originalErrorMessage:s.message})})),vd}async function ob(s){try{const i=(await qv()).transaction(_l),r=await i.objectStore(_l).get(Hv(s));return await i.done,r}catch(t){if(t instanceof Hi)xi.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}async function fy(s,t){try{const r=(await qv()).transaction(_l,"readwrite");await r.objectStore(_l).put(t,Hv(s)),await r.done}catch(i){if(i instanceof Hi)xi.warn(i.message);else{const r=Rr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(r.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=1024,ub=30;class cb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=dy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>ub){const d=db(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=dy(),{heartbeatsToSend:r,unsentEntries:l}=hb(this._heartbeatsCache.heartbeats),c=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return xi.warn(i),""}}}function dy(){return new Date().toISOString().substring(0,10)}function hb(s,t=lb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),my(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),my(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class fb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ob(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return fy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return fy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function my(s){return Ac(JSON.stringify({version:2,heartbeats:s})).length}function db(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(s){Pa(new bs("platform-logger",t=>new wS(t),"PRIVATE")),Pa(new bs("heartbeat",t=>new cb(t),"PRIVATE")),wr(Cd,cy,s),wr(Cd,cy,"esm2017"),wr("fire-js","")}mb("");function em(s,t){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(i[r[l]]=s[r[l]]);return i}function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gb=jv,Gv=new wl("auth","Firebase",jv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Zd("@firebase/auth");function pb(s,...t){bc.logLevel<=Ot.WARN&&bc.warn(`Auth (${ja}): ${s}`,...t)}function fc(s,...t){bc.logLevel<=Ot.ERROR&&bc.error(`Auth (${ja}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(s,...t){throw nm(s,...t)}function ii(s,...t){return nm(s,...t)}function Fv(s,t,i){const r=Object.assign(Object.assign({},gb()),{[t]:i});return new wl("auth","Firebase",r).create(t,{appName:s.name})}function Ir(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Gv.create(s,...t)}function dt(s,t,...i){if(!s)throw nm(t,...i)}function Ui(s){const t="INTERNAL ASSERTION FAILED: "+s;throw fc(t),new Error(t)}function zi(s,t){s||Ui(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function _b(){return gy()==="http:"||gy()==="https:"}function gy(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_b()||YA()||"connection"in navigator)?navigator.onLine:!0}function vb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,i){this.shortDelay=t,this.longDelay=i,zi(i>t,"Short delay should be less than long delay!"),this.isMobile=FA()||XA()}get(){return yb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(s,t){zi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ab=new Cl(3e4,6e4);function Cs(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Lr(s,t,i,r,l={}){return Qv(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Il(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:p},c);return QA()||(v.referrerPolicy="no-referrer"),Kv.fetch()(await Yv(s,s.config.apiHost,i,g),v)})}async function Qv(s,t,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},Eb),t);try{const l=new bb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw sc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw sc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw sc(s,"user-disabled",d);const A=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Fv(s,A,v);Ln(s,A)}}catch(l){if(l instanceof Hi)throw l;Ln(s,"network-request-failed",{message:String(l)})}}async function Gc(s,t,i,r,l={}){const c=await Lr(s,t,i,r,l);return"mfaPendingCredential"in c&&Ln(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?im(s.config,l):`${s.config.apiScheme}://${l}`;return Tb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Sb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),Ab.get())})}}function sc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ii(s,t,r);return l.customData._tokenResponse=i,l}function py(s){return s!==void 0&&s.enterprise!==void 0}class Rb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Sb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wb(s,t){return Lr(s,"GET","/v2/recaptchaConfig",Cs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(s,t){return Lr(s,"POST","/v1/accounts:delete",t)}async function Rc(s,t){return Lr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Cb(s,t=!1){const i=wn(s),r=await i.getIdToken(t),l=rm(r);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:fl(Ed(l.auth_time)),issuedAtTime:fl(Ed(l.iat)),expirationTime:fl(Ed(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Ed(s){return Number(s)*1e3}function rm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Pv(i);return l?JSON.parse(l):(fc("Failed to decode base64 JWT payload"),null)}catch(l){return fc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function _y(s){const t=rm(s);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Hi&&Db(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Db({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(s){var t;const i=s.auth,r=await s.getIdToken(),l=await yl(s,Rc(i,{idToken:r}));dt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Xv(c.providerUserInfo):[],g=Mb(s.providerData,d),p=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Md(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,I)}async function Nb(s){const t=wn(s);await wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Mb(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function Xv(s){return s.map(t=>{var{providerId:i}=t,r=em(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(s,t){const i=await Qv(s,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Yv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Kv.fetch()(d,{method:"POST",headers:g,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Pb(s,t){return Lr(s,"POST","/v2/accounts:revokeToken",Cs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_y(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=_y(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Vb(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Oa;return r&&(dt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(s,t){dt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Pn{constructor(t){var{uid:i,auth:r,stsTokenManager:l}=t,c=em(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ob(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Md(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await yl(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Cb(this,t)}reload(){return Nb(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Pn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Ir(this.auth));const t=await this.getIdToken();return await yl(this,Ib(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,l,c,d,g,p,v,A;const I=(r=i.displayName)!==null&&r!==void 0?r:void 0,x=(l=i.email)!==null&&l!==void 0?l:void 0,F=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,it=(g=i.tenantId)!==null&&g!==void 0?g:void 0,W=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,St=(v=i.createdAt)!==null&&v!==void 0?v:void 0,Tt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ft,emailVerified:Lt,isAnonymous:_t,providerData:Mt,stsTokenManager:N}=i;dt(ft&&N,t,"internal-error");const S=Oa.fromJSON(this.name,N);dt(typeof ft=="string",t,"internal-error"),yr(I,t.name),yr(x,t.name),dt(typeof Lt=="boolean",t,"internal-error"),dt(typeof _t=="boolean",t,"internal-error"),yr(F,t.name),yr(Z,t.name),yr(it,t.name),yr(W,t.name),yr(St,t.name),yr(Tt,t.name);const R=new Pn({uid:ft,auth:t,email:x,emailVerified:Lt,displayName:I,isAnonymous:_t,photoURL:Z,phoneNumber:F,tenantId:it,stsTokenManager:S,createdAt:St,lastLoginAt:Tt});return Mt&&Array.isArray(Mt)&&(R.providerData=Mt.map(O=>Object.assign({},O))),W&&(R._redirectEventId=W),R}static async _fromIdTokenResponse(t,i,r=!1){const l=new Oa;l.updateFromServerResponse(i);const c=new Pn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await wc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Oa;g.updateFromIdToken(r);const p=new Pn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Md(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new Map;function ki(s){zi(s instanceof Function,"Expected a class definition");let t=yy.get(s);return t?(zi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,yy.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$v.type="NONE";const vy=$v;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s,t,i){return`firebase:${s}:${t}:${i}`}class Na{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Rc(this.auth,{idToken:t}).catch(()=>{});return i?Pn._fromGetAccountInfoResponse(this.auth,i,t):null}return Pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Na(ki(vy),t,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||ki(vy);const d=dc(r,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let I;if(typeof A=="string"){const x=await Rc(t,{idToken:A}).catch(()=>{});if(!x)break;I=await Pn._fromGetAccountInfoResponse(t,x,A)}else I=Pn._fromJSON(t,A);v!==c&&(g=I),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Na(c,t,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Na(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nE(t))return"Blackberry";if(iE(t))return"Webos";if(Wv(t))return"Safari";if((t.includes("chrome/")||Jv(t))&&!t.includes("edge/"))return"Chrome";if(eE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zv(s=Qe()){return/firefox\//i.test(s)}function Wv(s=Qe()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Jv(s=Qe()){return/crios\//i.test(s)}function tE(s=Qe()){return/iemobile/i.test(s)}function eE(s=Qe()){return/android/i.test(s)}function nE(s=Qe()){return/blackberry/i.test(s)}function iE(s=Qe()){return/webos/i.test(s)}function sm(s=Qe()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ub(s=Qe()){var t;return sm(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function kb(){return $A()&&document.documentMode===10}function rE(s=Qe()){return sm(s)||eE(s)||iE(s)||nE(s)||/windows phone/i.test(s)||tE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s,t=[]){let i;switch(s){case"Browser":i=Ey(Qe());break;case"Worker":i=`${Ey(Qe())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ja}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(s,t={}){return Lr(s,"GET","/v2/passwordPolicy",Cs(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=6;class Bb{constructor(t){var i,r,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:zb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,r,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ty(this),this.idTokenSubscription=new Ty(this),this.beforeStateQueue=new Lb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ki(i)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await Na.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Rc(this,{idToken:t}),r=await Pn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Vn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await wc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Ir(this));const i=t?wn(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xb(this),i=new Bb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new wl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pb(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ki(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,r,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&pb(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Ga(s){return wn(s)}class Ty{constructor(t){this.auth=t,this.observer=null,this.addObserver=rS(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hb(s){Fc=s}function aE(s){return Fc.loadJS(s)}function jb(){return Fc.recaptchaEnterpriseScript}function Gb(){return Fc.gapiScript}function Fb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Kb{constructor(){this.enterprise=new Qb}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Qb{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Yb="recaptcha-enterprise",oE="NO_RECAPTCHA";class Xb{constructor(t){this.type=Yb,this.auth=Ga(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{wb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new Rb(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;py(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(oE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Kb().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&py(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jb();p.length!==0&&(p+=g),aE(p).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function Ay(s,t,i,r=!1,l=!1){const c=new Xb(s);let d;if(l)d=oE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Sy(s,t,i,r,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Ay(s,t,i,i==="getOobCode");return r(s,d)}else return r(s,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Ay(s,t,i,i==="getOobCode");return r(s,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(s,t){const i=Jd(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ss(c,t??{}))return l;Ln(l,"already-initialized")}return i.initialize({options:t})}function Zb(s,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ki);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Wb(s,t,i){const r=Ga(s);dt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=lE(t),{host:d,port:g}=Jb(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){dt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),dt(Ss(v,r.config.emulator)&&Ss(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,tR()}function lE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Jb(s){const t=lE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:by(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:by(d)}}}function by(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function tR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ui("not implemented")}_getIdTokenResponse(t){return Ui("not implemented")}_linkToIdToken(t,i){return Ui("not implemented")}_getReauthenticationResolver(t){return Ui("not implemented")}}async function eR(s,t){return Lr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(s,t){return Gc(s,"POST","/v1/accounts:signInWithPassword",Cs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(s,t){return Gc(s,"POST","/v1/accounts:signInWithEmailLink",Cs(s,t))}async function rR(s,t){return Gc(s,"POST","/v1/accounts:signInWithEmailLink",Cs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends am{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new vl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new vl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sy(t,i,"signInWithPassword",nR);case"emailLink":return iR(t,{email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sy(t,r,"signUpPassword",eR);case"emailLink":return rR(t,{idToken:i,email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(s,t){return Gc(s,"POST","/v1/accounts:signInWithIdp",Cs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="http://localhost";class Rs extends am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Rs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ln("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l}=i,c=em(i,["providerId","signInMethod"]);if(!r||!l)return null;const d=new Rs(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ma(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ma(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ma(t,i)}buildRequest(){const t={requestUri:sR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Il(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oR(s){const t=ol(ll(s)).link,i=t?ol(ll(t)).deep_link_id:null,r=ol(ll(s)).deep_link_id;return(r?ol(ll(r)).link:null)||r||i||t||s}class om{constructor(t){var i,r,l,c,d,g;const p=ol(ll(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,A=(r=p.oobCode)!==null&&r!==void 0?r:null,I=aR((l=p.mode)!==null&&l!==void 0?l:null);dt(v&&A&&I,"argument-error"),this.apiKey=v,this.operation=I,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=oR(t);try{return new om(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.providerId=Fa.PROVIDER_ID}static credential(t,i){return vl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=om.parseLink(i);return dt(r,"argument-error"),vl._fromEmailAndCode(t,r.code,r.tenantId)}}Fa.PROVIDER_ID="password";Fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Dl{constructor(){super("facebook.com")}static credential(t){return Rs._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Rs._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Er.credential(i,r)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Dl{constructor(){super("github.com")}static credential(t){return Rs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Dl{constructor(){super("twitter.com")}static credential(t,i){return Rs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ar.credential(i,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Pn._fromIdTokenResponse(t,r,l),d=Ry(r);return new Ua({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Ry(r);return new Ua({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Ry(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Hi{constructor(t,i,r,l){var c;super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Ic(t,i,r,l)}}function cE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ic._fromErrorAndOperation(s,c,t,r):c})}async function lR(s,t,i=!1){const r=await yl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ua._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(s,t,i=!1){const{auth:r}=s;if(Vn(r.app))return Promise.reject(Ir(r));const l="reauthenticate";try{const c=await yl(s,cE(r,l,t,s),i);dt(c.idToken,r,"internal-error");const d=rm(c.idToken);dt(d,r,"internal-error");const{sub:g}=d;return dt(s.uid===g,r,"user-mismatch"),Ua._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(s,t,i=!1){if(Vn(s.app))return Promise.reject(Ir(s));const r="signIn",l=await cE(s,r,t),c=await Ua._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function cR(s,t){return hE(Ga(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(s){const t=Ga(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function fR(s,t,i){return Vn(s.app)?Promise.reject(Ir(s)):cR(wn(s),Fa.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hR(s),r})}function dR(s,t,i,r){return wn(s).onIdTokenChanged(t,i,r)}function mR(s,t,i){return wn(s).beforeAuthStateChanged(t,i)}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1e3,pR=10;class dE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);kb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,pR):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}dE.type="LOCAL";const _R=dE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mE.type="SESSION";const gE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Kc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await yR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=lm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(I){const x=I;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function ER(s){ri().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function TR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function SR(){return pE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firebaseLocalStorageDb",bR=1,Dc="firebaseLocalStorage",yE="fbase_key";class Ol{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qc(s,t){return s.transaction([Dc],t?"readwrite":"readonly").objectStore(Dc)}function RR(){const s=indexedDB.deleteDatabase(_E);return new Ol(s).toPromise()}function Vd(){const s=indexedDB.open(_E,bR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Dc,{keyPath:yE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Dc)?t(r):(r.close(),await RR(),t(await Vd()))})})}async function wy(s,t,i){const r=Qc(s,!0).put({[yE]:t,value:i});return new Ol(r).toPromise()}async function wR(s,t){const i=Qc(s,!1).get(t),r=await new Ol(i).toPromise();return r===void 0?null:r.value}function Iy(s,t){const i=Qc(s,!0).delete(t);return new Ol(i).toPromise()}const IR=800,CR=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>CR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(SR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new vR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vd();return await wy(t,Cc,"1"),await Iy(t,Cc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>wy(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>wR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Iy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Qc(l,!1).getAll();return new Ol(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const DR=vE;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(s,t){return t?ki(t):(dt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends am{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ma(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ma(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function NR(s){return hE(s.auth,new um(s),s.bypassAuthState)}function MR(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),uR(i,new um(s),s.bypassAuthState)}async function VR(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),lR(i,new um(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:Ln(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Cl(2e3,1e4);class Da extends EE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PR.get())};t()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",mc=new Map;class kR extends EE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=mc.get(this.auth._key());if(!t){try{const r=await LR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}mc.set(this.auth._key(),t)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LR(s,t){const i=BR(t),r=zR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function xR(s,t){mc.set(s._key(),t)}function zR(s){return ki(s._redirectPersistence)}function BR(s){return dc(UR,s.config.apiKey,s.name)}async function qR(s,t,i=!1){if(Vn(s.app))return Promise.reject(Ir(s));const r=Ga(s),l=OR(r,t),d=await new kR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=10*60*1e3;class jR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!TE(t)){const l=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(ii(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(t))}saveEventToCache(t){this.cachedEventUids.add(Cy(t)),this.lastProcessedEventTime=Date.now()}}function Cy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function TE({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function GR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(s,t={}){return Lr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QR=/^https?/;async function YR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await FR(s);for(const i of t)try{if(XR(i))return}catch{}Ln(s,"unauthorized-domain")}function XR(s){const t=Nd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!QR.test(i))return!1;if(KR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new Cl(3e4,6e4);function Dy(){const s=ri().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ZR(s){return new Promise((t,i)=>{var r,l,c;function d(){Dy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dy(),i(ii(s,"network-request-failed"))},timeout:$R.get()})}if(!((l=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ri().gapi)===null||c===void 0)&&c.load)d();else{const g=Fb("iframefcb");return ri()[g]=()=>{gapi.load?d():i(ii(s,"network-request-failed"))},aE(`${Gb()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw gc=null,t})}let gc=null;function WR(s){return gc=gc||ZR(s),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Cl(5e3,15e3),tw="__/auth/iframe",ew="emulator/auth/iframe",nw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rw(s){const t=s.config;dt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?im(t,ew):`https://${s.config.authDomain}/${tw}`,r={apiKey:t.apiKey,appName:s.name,v:ja},l=iw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Il(r).slice(1)}`}async function sw(s){const t=await WR(s),i=ri().gapi;return dt(i,s,"internal-error"),t.open({where:document.body,url:rw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),g=ri().setTimeout(()=>{c(d)},JR.get());function p(){ri().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ow=500,lw=600,uw="_blank",cw="http://localhost";class Oy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hw(s,t,i,r=ow,l=lw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p=Object.assign(Object.assign({},aw),{width:r.toString(),height:l.toString(),top:c,left:d}),v=Qe().toLowerCase();i&&(g=Jv(v)?uw:i),Zv(v)&&(t=t||cw,p.scrollbars="yes");const A=Object.entries(p).reduce((x,[F,Z])=>`${x}${F}=${Z},`,"");if(Ub(v)&&g!=="_self")return fw(t||"",g),new Oy(null);const I=window.open(t||"",g,A);dt(I,s,"popup-blocked");try{I.focus()}catch{}return new Oy(I)}function fw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="__/auth/handler",mw="emulator/auth/handler",gw=encodeURIComponent("fac");async function Ny(s,t,i,r,l,c){dt(s.config.authDomain,s,"auth-domain-config-required"),dt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ja,eventId:l};if(t instanceof uE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",iS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Dl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await s._getAppCheckToken(),v=p?`#${gw}=${encodeURIComponent(p)}`:"";return`${pw(s)}?${Il(g).slice(1)}${v}`}function pw({config:s}){return s.emulator?im(s,mw):`https://${s.authDomain}/${dw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class _w{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=qR,this._overrideRedirectResult=xR}async _openPopup(t,i,r,l){var c;zi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Ny(t,i,r,Nd(),l);return hw(t,d,lm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Ny(t,i,r,Nd(),l);return ER(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(zi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await sw(t),r=new jR(t);return i.register("authEvent",l=>(dt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Td,{type:Td},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Td];d!==void 0&&i(!!d),Ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=YR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return rE()||Wv()||sm()}}const yw=_w;var My="@firebase/auth",Vy="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tw(s){Pa(new bs("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(s)},v=new qb(r,l,c,p);return Zb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Pa(new bs("auth-internal",t=>{const i=Ga(t.getProvider("auth").getImmediate());return(r=>new vw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(My,Vy,Ew(s)),wr(My,Vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=5*60,Sw=Lv("authIdTokenMaxAge")||Aw;let Py=null;const bw=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Sw)return;const l=i==null?void 0:i.token;Py!==l&&(Py=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Rw(s=Bv()){const t=Jd(s,"auth");if(t.isInitialized())return t.getImmediate();const i=$b(s,{popupRedirectResolver:yw,persistence:[DR,_R,gE]}),r=Lv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=bw(c.toString());mR(i,d,()=>d(i.currentUser)),dR(i,g=>d(g))}}const l=Uv("auth");return l&&Wb(i,`http://${l}`),i}function ww(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}Hb({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ii("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",ww().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tw("Browser");var Iw="firebase",Cw="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(Iw,Cw,"app");const AE={apiKey:"AIzaSyBrDBB_lthpwmnd1HBXBhRJHepLnpvP-ZU",authDomain:"pilvipalvelu-vite.firebaseapp.com",projectId:"pilvipalvelu-vite",storageBucket:"pilvipalvelu-vite.firebasestorage.app",messagingSenderId:"251463521271",appId:"1:251463521271:web:c66bc7d870c1030b4fd4f2"};function Dw(){const s=tm(AE),t=Rw(s),[i,r]=ni.useState(""),[l,c]=ni.useState(""),d=async g=>{g.preventDefault(),await fR(t,i,l).then(p=>{const v=p.user;console.log("User signed in:",v.email)}).catch(p=>{const v=p.code,A=p.message;console.error("Error signing in:",v,A)})};return vt.jsx("div",{children:vt.jsxs("form",{onSubmit:d,children:[vt.jsxs("div",{children:[vt.jsx("label",{htmlFor:"email",children:"Sähköposti:"}),vt.jsx("input",{type:"email",id:"email",value:i,onChange:g=>r(g.target.value),required:!0})]}),vt.jsxs("div",{children:[vt.jsx("label",{htmlFor:"password",children:"Salasana:"}),vt.jsx("input",{type:"password",id:"password",value:l,onChange:g=>c(g.target.value),required:!0})]}),vt.jsx("button",{type:"submit",children:"Kirjaudu sisään"})]})})}var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,SE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,M,P){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],M=N.g[2];var P=N.g[3],w=S+(P^R&(M^P))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+O[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+O[2]+606105819&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+O[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(P^R&(M^P))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+O[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+O[6]+2821735955&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+O[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(P^R&(M^P))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+O[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+O[10]+4294925233&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+O[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(P^R&(M^P))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+O[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+O[14]+2792965006&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+O[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^P&(R^M))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+O[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+O[11]+643717713&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+O[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(R^M))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+O[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+O[15]+3634488961&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+O[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(R^M))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+O[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+O[3]+4107603335&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+O[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(R^M))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+O[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+O[7]+1735328473&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+O[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^P)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+O[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+O[11]+1839030562&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+O[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^P)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+O[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+O[7]+4139469664&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+O[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^P)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+O[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+O[3]+3572445317&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+O[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^P)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+O[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+O[15]+530742520&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+O[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~P))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+O[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+O[14]+2878612391&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+O[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~P))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+O[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+O[10]+4293915773&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+O[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~P))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+O[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+O[6]+2734768916&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+O[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~P))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+O[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+O[2]+718787259&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+P&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=R;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<S;)if(O[M++]=N.charCodeAt(P++),M==this.blockSize){l(this,O),M=0;break}}else for(;P<S;)if(O[M++]=N[P++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function c(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],O=!0,M=N.length-1;0<=M;M--){var P=N[M]|0;O&&P==S||(R[M]=P,O=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?c(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return W(v(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=I,M=0;M<N.length;M+=8){var P=Math.min(8,N.length-M),w=parseInt(N.substring(M,M+P),S);8>P?(P=v(Math.pow(S,P)),O=O.j(P).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var I=p(0),x=p(1),F=p(16777216);s=d.prototype,s.m=function(){if(it(this))return-W(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(it(this))return"-"+W(this).toString(N);for(var S=v(Math.pow(N,6)),R=this,O="";;){var M=Lt(R,S).g;R=St(R,M.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,Z(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}s.l=function(N){return N=St(this,N),it(N)?-1:Z(N)?0:1};function W(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new d(R,~N.h).add(x)}s.abs=function(){return it(this)?W(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,M=0;M<=S;M++){var P=O+(this.i(M)&65535)+(N.i(M)&65535),w=(P>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=w>>>16,P&=65535,w&=65535,R[M]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function St(N,S){return N.add(W(S))}s.j=function(N){if(Z(this)||Z(N))return I;if(it(this))return it(N)?W(this).j(W(N)):W(W(this).j(N));if(it(N))return W(this.j(W(N)));if(0>this.l(F)&&0>N.l(F))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var P=this.i(O)>>>16,w=this.i(O)&65535,Me=N.i(M)>>>16,re=N.i(M)&65535;R[2*O+2*M]+=w*re,Tt(R,2*O+2*M),R[2*O+2*M+1]+=P*re,Tt(R,2*O+2*M+1),R[2*O+2*M+1]+=w*Me,Tt(R,2*O+2*M+1),R[2*O+2*M+2]+=P*Me,Tt(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function Tt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function Lt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ft(I,I);if(it(N))return S=Lt(W(N),S),new ft(W(S.g),W(S.h));if(it(S))return S=Lt(N,W(S)),new ft(W(S.g),S.h);if(30<N.g.length){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=S;0>=O.l(N);)R=_t(R),O=_t(O);var M=Mt(R,1),P=Mt(O,1);for(O=Mt(O,2),R=Mt(R,2);!Z(O);){var w=P.add(O);0>=w.l(N)&&(M=M.add(R),P=w),O=Mt(O,1),R=Mt(R,1)}return S=St(N,M.j(S)),new ft(M,S)}for(M=I;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=v(R),w=P.j(S);it(w)||0<w.l(N);)R-=O,P=v(R),w=P.j(S);Z(P)&&(P=x),M=M.add(P),N=St(N,w)}return new ft(M,N)}s.A=function(N){return Lt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new d(R,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new d(R,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new d(R,this.h^N.h)};function _t(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(R,N.h)}function Mt(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,M=[],P=0;P<O;P++)M[P]=0<S?N.i(P+R)>>>S|N.i(P+R+1)<<32-S:N.i(P+R);return new d(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Cr=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,ul,RE,pc,Pd,wE,IE,CE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,U={next:function(){if(!T&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function I(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function x(u,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,x.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var J=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)J[Vt-2]=arguments[Vt];return m.prototype[U].apply(T,J)}}function it(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let J=0;J<q;J++)u[U+J]=T[J]}else u.push(T)}}class St{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Tt(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var _t=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let q=0;q<R.length;q++)_=R[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,_){const T=re.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new St(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,zt=new Me,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(_){P(_)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function wt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Lt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Z(wt,$);var pt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,_,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var J=zr(u,m,T,U);return-1<J?(m=u[J],_||(m.fa=!1)):(m=new xn(m,this.src,q,!!T,U),m.fa=_,u.push(m)),m};function xr(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(ji(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function zr(u,m,_,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return U}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),$a={};function Ul(u,m,_,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ul(u,m[q],_,T,U);return null}return _=kl(_),u&&u[Re]?u.K(m,_,v(T)?!!T.capture:!1,U):fn(u,m,_,!1,T,U)}function fn(u,m,_,T,U,q){if(!m)throw Error("Invalid event type");var J=v(U)?!!U.capture:!!U,Vt=Ps(u);if(Vt||(u[Br]=Vt=new ui(u)),_=Vt.add(m,_,T,J,q),_.proxy)return _;if(T=lh(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)lt||(U=J),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(qr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function lh(){function u(_){return m.call(u.src,u.listener,_)}const m=uh;return u}function Za(u,m,_,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Za(u,m[q],_,T,U);else T=v(T)?!!T.capture:!!T,_=kl(_),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=zr(q,_,T,U),-1<_&&(ji(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,_,T,U)),(_=-1<u?m[u]:null)&&Vs(_))}function Vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])xr(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(qr(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ps(m))?(xr(_,u),_.h==0&&(_.src=null,m[Br]=null)):ji(u)}}}function qr(u){return u in $a?$a[u]:$a[u]="on"+u}function uh(u,m){if(u.da)u=!0;else{m=new wt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Vs(u),u=_.call(T,m)}return u}function Ps(u){return u=u[Br],u instanceof ui?u:null}var Wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function kl(u){return typeof u=="function"?u:(u[Wa]||(u[Wa]=function(m){return u.handleEvent(m)}),u[Wa])}function se(){et.call(this),this.i=new ui(this),this.M=this,this.F=null}Z(se,et),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,_,T){Za(this,u,m,_,T)};function jt(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(T,u),O(m,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var J=m.g=_[q];U=nn(J,T,!0,m)&&U}if(J=m.g=u,U=nn(J,T,!0,m)&&U,U=nn(J,T,!1,m)&&U,_)for(q=0;q<_.length;q++)J=m.g=_[q],U=nn(J,T,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)ji(_[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},se.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function nn(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var J=m[q];if(J&&!J.da&&J.capture==_){var Vt=J.listener,ye=J.ha||J.src;J.fa&&xr(u.i,J),U=Vt.call(ye,T)!==!1&&U}}return U&&!T.defaultPrevented}function qe(u,m,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ll(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Ll(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ch extends et{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ll(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){et.call(this),this.h=u,this.g={}}Z(Hr,et);var jr=[];function Gr(u){Mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Vs(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),Gr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,Us=g.JSON.parse,Fr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ja(){}Ja.prototype.h=null;function to(u){return u.h||(u.h=u.i())}function eo(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){$.call(this,"d")}Z(hi,$);function no(){$.call(this,"c")}Z(no,$);var zn={},io=null;function Gi(){return io=io||new se}zn.La="serverreachability";function ks(u){$.call(this,zn.La,u)}Z(ks,$);function Fi(u){const m=Gi();jt(m,new ks(m))}zn.STAT_EVENT="statevent";function xl(u,m){$.call(this,zn.STAT_EVENT,u),this.stat=m}Z(xl,$);function Jt(u){const m=Gi();jt(m,new xl(m,u))}zn.Ma="timingevent";function _e(u,m){$.call(this,zn.Ma,u),this.size=m}Z(_e,$);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function ro(u,m,_,T,U,q){u.info(function(){if(u.g)if(q)for(var J="",Vt=q.split("&"),ye=0;ye<Vt.length;ye++){var Pt=Vt[ye].split("=");if(1<Pt.length){var Ie=Pt[0];Pt=Pt[1];var ve=Ie.split("_");J=2<=ve.length&&ve[1]=="type"?J+(Ie+"="+Pt+"&"):J+(Ie+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+J})}function hh(u,m,_,T,U,q,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+J})}function Ki(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kr(u,_)+(T?" "+T:"")})}function zl(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Kr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return In(_)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}Z(qn,Ja),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function Ye(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var so={},Ls={};function Cn(u,m,_){u.L=1,u.v=Zr(rn(m)),u.m=_,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Qr(u),u.A=rn(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),ho(_.i,"t",T),u.C=0,_=u.j.J,u.h=new le,u.g=eu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ch(x(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(jr[0]=U.toString()),U=jr);for(var q=0;q<U.length;q++){var J=Ul(_,U[q],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),ro(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||ve!=4||m==7||(m==8||0>=Ti?Fi(3):Fi(2)),Yi(this);var _=this.g.Z();this.X=_;e:if(Bl(this)){var T=Ql(this.g);u="";var U=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ve(this),Hn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=_==200,hh(this.i,this.u,this.A,this.l,this.R,ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(Vt)){var Pt=Vt;break e}}Pt=null}if(_=Pt)Ki(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,_);else{this.o=!1,this.s=3,Jt(12),Ve(this),Hn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<J.length;)if(Pe=ql(this,J),Pe==Ls){ve==4&&(this.s=4,Jt(14),_=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==so){this.s=4,Jt(15),Ki(this.i,this.l,J,"[Invalid Chunk]"),_=!1;break}else Ki(this.i,this.l,Pe,null),Yr(this,Pe);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||J.length!=0||this.h.h||(this.s=1,Jt(16),_=!1),this.o=this.o&&_,!_)Ki(this.i,this.l,J,"[Invalid Chunked Response]"),Ve(this),Hn(this);else if(0<J.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ss(Ie),Ie.M=!0,Jt(11))}}else Ki(this.i,this.l,J,null),Yr(this,J);ve==4&&Ve(this),this.o&&!this.J&&(ve==4?Wl(this.j,this):(this.o=!1,Qr(this)))}else ph(this.g),_==400&&0<J.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ve(this),Hn(this)}}}catch{}finally{}};function Bl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ql(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ls:(_=Number(m.substring(_,T)),isNaN(_)?so:(T+=1,T+_>m.length?Ls:(m=m.slice(T,T+_),u.C=T+_,m)))}Ye.prototype.cancel=function(){this.J=!0,Ve(this)};function Qr(u){u.S=Date.now()+u.I,Hl(u,u.I)}function Hl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(x(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zl(this.i,this.A),this.L!=2&&(Fi(),Jt(17)),Ve(this),this.s=2,Hn(this)):Hl(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Wl(u.j,u)}function Ve(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Gr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||ao(_.h,u))){if(!u.K&&ao(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Xs(_),Qs(_);else break t;_o(_),Jt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=fe(x(_.Za,_),6e3));if(1>=zs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&Xs(_),!Tt(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Ie=Pt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const ve=Pt[4];ve!=null&&(_.Aa=ve,_.j.info("SVER="+_.Aa));const Ti=Pt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Pe=u.g;if(Pe){const Xn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var q=T.h;q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Bs(q,q.h),q.h=null))}if(T.D){const vo=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(T.ya=vo,Kt(T.I,T.D,vo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var J=u;if(T.qa=tu(T,T.J?T.ia:null,T.W),J.K){Xe(T.h,J);var Vt=J,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Yi(Vt),Qr(Vt)),T.g=J}else $l(T);0<_.i.length&&Ys(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Ei(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ei(_,7):go(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}Fi(4)}catch{}}var jl=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zs(u){return u.h?1:u.g?u.g.size:0}function ao(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bs(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function oo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return it(u.i)}function fh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function lo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=qs(u),T=fh(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],_&&_[q],u)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),U=null;if(0<=T){var q=u[_].substring(0,T);U=u[_].substring(T+1)}else q=u[_];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,$r(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.s),this.l=u.l;var m=u.i,_=new pi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),gi(this,_),this.m=u.m}else u&&(m=String(u).match(Xr))?(this.h=!1,$r(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Xi(this,m[4]),this.l=mn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wr(m,uo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wr(m,uo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Wr(_,_.charAt(0)=="/"?mh:co,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Wr(_,Hs)),u.join("")};function rn(u){return new de(u)}function $r(u,m,_){u.j=_?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,_){m instanceof pi?(u.i=m,Fl(u.i,u.h)):(_||(m=Wr(m,gh)),u.i=new pi(m,u.h))}function Kt(u,m,_){u.i.set(m,_)}function Zr(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Gl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Gl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var uo=/[#\/\?@]/g,co=/[#\?:]/g,mh=/[#\?]/g,gh=/[#\?@]/g,Hs=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&dh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=pi.prototype,s.add=function(u,m){gn(this),this.i=null,u=jn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function _i(u,m){gn(u),m=jn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return gn(u),m=jn(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)_.push(m[T])}return _},s.V=function(u){gn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(jn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return gn(this),this.i=null,u=jn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ho(u,m,_){_i(u,m),0<_.length&&(u.i=null,u.g.set(jn(u,m),it(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const q=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var U=q;J[T]!==""&&(U+="="+encodeURIComponent(String(J[T]))),u.push(U)}}return this.i=u.join("&")};function jn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fl(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(_i(this,T),ho(this,U,_))},u)),u.j=m}function Jr(u,m){const _=new dn;if(g.Image){const T=new Image;T.onload=F(pn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=F(pn,_,"TestLoadImage: error",!1,m,T),T.onabort=F(pn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(pn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dn(u,m){const _=new dn,T=new AbortController,U=setTimeout(()=>{T.abort(),pn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?pn(_,"TestPingServer: ok",!0,m):pn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),pn(_,"TestPingServer: error",!1,m)})}function pn(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function ts(){this.g=new Fr}function Gn(u,m,_){const T=_||"";try{lo(u,function(U,q){let J=U;v(U)&&(J=In(U)),m.push(T+q+"="+encodeURIComponent(J))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}Z($i,Ja),$i.prototype.g=function(){return new vi(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function vi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(vi,se),s=vi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Kn(this),this.readyState==3&&fo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},s.Qa=function(u){this.g&&(this.response=u,Fn(this))},s.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mo(u){let m="";return Mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function we(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=mo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Kt(u,m,_))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,se);var js=/^https?$/i,es=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?to(this.o):to(Bn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Kl(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of _)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Kl(this,q)}};function Kl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Gs(u),Qn(u)}function Gs(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Fs(this):this.bb())},s.bb=function(){Fs(this)};function Fs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=J===0){var U=String(u.D).match(Xr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!js.test(U?U.toLowerCase():"")}_=T}if(_)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<_n(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Gs(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){ns(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{_.onreadystatechange=T}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Us(m)}};function Ql(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ph(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Tt(u[T]))continue;var _=M(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ks(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ks.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,T){Jt(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=tu(this,null,this.W),Ys(this)};function go(u){if(Yl(u),u.G==3){var m=u.U++,_=rn(u.I);if(Kt(_,"SID",u.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),rs(u,_),m=new Ye(u,u.j,m),m.L=2,m.v=Zr(rn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qr(m)}Jl(u)}function Qs(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function Yl(u){Qs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Xs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ys(u){if(!xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),at||(tt(),at=!0),zt.add(m,u),u.B=0}}function _h(u,m){return zs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(x(u.Ga,u,m),yo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Xl(this,U,m),_=rn(this.I),Kt(_,"RID",u),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),rs(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(mo(q)))+"&"+m:this.m&&we(_,this.m,q)),Bs(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),U.T=!0,Cn(U,_,null)):Cn(U,_,m),this.G=2}}else this.G==3&&(u?po(this,u):this.i.length==0||xs(this.h)||po(this))};function po(u,m){var _;m?_=m.l:_=u.U++;const T=rn(u.I);Kt(T,"SID",u.K),Kt(T,"RID",_),Kt(T,"AID",u.T),rs(u,T),u.m&&u.o&&we(T,u.m,u.o),_=new Ye(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Xl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bs(u.h,_),Cn(_,T,m)}function rs(u,m){u.H&&Mt(u.H,function(_,T){Kt(m,T,_)}),u.l&&lo({},function(_,T){Kt(m,T,_)})}function Xl(u,m,_){_=Math.min(u.i.length,_);var T=u.l?x(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const J=["count="+_];q==-1?0<_?(q=U[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Vt=!0;for(let ye=0;ye<_;ye++){let Pt=U[ye].g;const Ie=U[ye].map;if(Pt-=q,0>Pt)q=Math.max(0,U[ye].g-100),Vt=!1;else try{Gn(Ie,J,"req"+Pt+"_")}catch{T&&T(Ie)}}if(Vt){T=J.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function $l(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),at||(tt(),at=!0),zt.add(m,u),u.v=0}}function _o(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(x(u.Fa,u),yo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(x(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Qs(this),Zl(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Zl(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Zr(rn(m)),_.m=null,_.P=!0,di(_,u)}s.Za=function(){this.C!=null&&(this.C=null,Qs(this),_o(this),Jt(19))};function Xs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Wl(u,m){var _=null;if(u.g==m){Xs(u),ss(u),u.g=null;var T=2}else if(ao(u.h,m))_=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Gi(),jt(T,new _e(T,_)),Ys(u)}else $l(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&_h(u,m)||T==2&&_o(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function yo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=x(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$r(T,"https"),Zr(T),U?Jr(T.toString(),_):Dn(T.toString(),_)}else Jt(2);u.G=0,u.l&&u.l.sa(m),Jl(u),Yl(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Jl(u){if(u.G=0,u.ka=[],u.l){const m=oo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function tu(u,m,_){var T=_ instanceof de?rn(_):new de(_);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new de(null);T&&$r(q,T),m&&(q.g=m),U&&Xi(q,U),_&&(q.l=_),T=q}return _=u.D,m=u.ya,_&&m&&Kt(T,_,m),Kt(T,"VER",u.la),rs(u,T),T}function eu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new $i({eb:_})):new qt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}s=nu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function $s(){}$s.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Tt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Tt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}Z($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){go(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=In(u),u=_);m.i.push(new jl(m.Ya++,u)),m.G==3&&Ys(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,$e.aa.N.call(this)};function iu(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(iu,hi);function ru(){no.call(this),this.status=1}Z(ru,no);function Yn(u){this.g=u}Z(Yn,nu),Yn.prototype.ua=function(){jt(this.g,"a")},Yn.prototype.ta=function(u){jt(this.g,new iu(u))},Yn.prototype.sa=function(u){jt(this.g,new ru)},Yn.prototype.ra=function(){jt(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,CE=function(){return new $s},IE=function(){return Gi()},wE=zn,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,pc=Qi,fi.COMPLETE="complete",RE=fi,eo.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",se.prototype.listen=se.prototype.K,ul=eo,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,bE=qt}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",Ly="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Zd("@firebase/firestore");function Ra(){return ws.logLevel}function nt(s,...t){if(ws.logLevel<=Ot.DEBUG){const i=t.map(cm);ws.debug(`Firestore (${Ka}): ${s}`,...i)}}function Bi(s,...t){if(ws.logLevel<=Ot.ERROR){const i=t.map(cm);ws.error(`Firestore (${Ka}): ${s}`,...i)}}function ka(s,...t){if(ws.logLevel<=Ot.WARN){const i=t.map(cm);ws.warn(`Firestore (${Ka}): ${s}`,...i)}}function cm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s="Unexpected state"){const t=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: `+s;throw Bi(t),new Error(t)}function Ht(s,t){s||gt()}function Et(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Hi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class Nw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string"),new DE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string"),new Fe(t)}}class Vw{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Pw{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new Vw(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uw{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0);const r=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new xy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=kw(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Rt(s,t){return s<t?-1:s>t?1:0}function Ud(s,t){let i=0;for(;i<s.length&&i<t.length;){const r=s.codePointAt(i),l=t.codePointAt(i);if(r!==l){if(r<128&&l<128)return Rt(r,l);{const c=OE(),d=Lw(c.encode(zy(s,i)),c.encode(zy(t,i)));return d!==0?d:Rt(r,l)}}i+=r>65535?2:1}return Rt(s.length,t.length)}function zy(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function Lw(s,t){for(let i=0;i<s.length&&i<t.length;++i)if(s[i]!==t[i])return Rt(s[i],t[i]);return Rt(s.length,t.length)}function La(s,t,i){return s.length===t.length&&s.every((r,l)=>i(r,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-62135596800,qy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*qy);return new Se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<By)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qy}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-By;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new Se(0,0))}static max(){return new yt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="__name__";class ei{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(),r===void 0?r=t.length-i:r>t.length-i&&gt(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Rt(t.length,i.length)}static compareSegments(t,i){const r=ei.isNumericId(t),l=ei.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?ei.extractNumericId(t).compare(ei.extractNumericId(i)):Ud(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class ee extends ei{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(l=>l.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const xw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ei{construct(t,i,r){return new ze(t,i,r)}static isValidIdentifier(t){return xw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new ze([Hy])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(ee.fromString(t))}static fromName(t){return new ut(ee.fromString(t).popFirst(5))}static empty(){return new ut(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function zw(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new Nr(l,ut.empty(),t)}function Bw(s){return new Nr(s.readTime,s.key,El)}class Nr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Nr(yt.min(),ut.empty(),El)}static max(){return new Nr(yt.max(),ut.empty(),El)}}function qw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,t.documentKey),i!==0?i:Rt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Hw)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Q((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Q.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Q.reject(i)}static resolve(t){return new Q((i,r)=>{i(t)})}static reject(t){return new Q((i,r)=>{r(t)})}static waitFor(t){return new Q((i,r)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>r(p))}),d=!0,c===l&&i()})}static or(t){let i=Q.resolve(!1);for(const r of t)i=i.next(l=>l?Q.resolve(l):r());return i}static forEach(t,i){const r=[];return t.forEach((l,c)=>{r.push(i.call(this,l,c))}),this.waitFor(r)}static mapArray(t,i){return new Q((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(A=>{d[v]=A,++g,g===c&&r(d)},A=>l(A))}})}static doWhile(t,i){return new Q((r,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):r()};c()})}}function Gw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ya(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Yc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function Xc(s){return s==null}function Oc(s){return s===0&&1/s==-1/0}function Fw(s){return typeof s=="number"&&Number.isInteger(s)&&!Oc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function Kw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=jy(t)),t=Qw(s.get(i),t);return jy(t)}function Qw(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case ME:i+="";break;default:i+=c}}return i}function jy(s){return s+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ds(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function VE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||xe.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oc(this.root,t,this.comparator,!0)}}class oc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??xe.RED,this.left=l??xe.EMPTY,this.right=c??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new xe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return xe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(t,i,r,l,c){return this}insert(t,i,r){return new xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(t){return new Fy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class Fy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new Un([])}unionWith(t){let i=new be(ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Un(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return La(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PE("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Yw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(s){if(Ht(!!s),typeof s=="string"){let t=0;const i=Yw.exec(s);if(Ht(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Vr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="server_timestamp",kE="__type__",LE="__previous_value__",xE="__local_write_time__";function fm(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[kE])===null||i===void 0?void 0:i.stringValue)===UE}function $c(s){const t=s.mapValue.fields[LE];return fm(t)?$c(t):t}function Tl(s){const t=Mr(s.mapValue.fields[xE].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,i,r,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const Nc="(default)";class Al{constructor(t,i){this.projectId=t,this.database=i||Nc}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof Al&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__type__",$w="__max__",lc={mapValue:{}},BE="__vector__",Mc="value";function Pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fm(s)?4:Ww(s)?9007199254740991:Zw(s)?10:11:gt()}function oi(s,t){if(s===t)return!0;const i=Pr(s);if(i!==Pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Tl(s).isEqual(Tl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Mr(l.timestampValue),g=Mr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?Oc(d)===Oc(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return La(s.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Gy(d)!==Gy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!oi(d[p],g[p])))return!1;return!0}(s,t);default:return gt()}}function Sl(s,t){return(s.values||[]).find(i=>oi(i,t))!==void 0}function xa(s,t){if(s===t)return 0;const i=Pr(s),r=Pr(t);if(i!==r)return Rt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,t);case 3:return Ky(s.timestampValue,t.timestampValue);case 4:return Ky(Tl(s),Tl(t));case 5:return Ud(s.stringValue,t.stringValue);case 6:return function(c,d){const g=Vr(c),p=Vr(d);return g.compareTo(p)}(s.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Rt(g[v],p[v]);if(A!==0)return A}return Rt(g.length,p.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Rt(he(c.latitude),he(d.latitude));return g!==0?g:Rt(he(c.longitude),he(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Qy(s.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const I=c.fields||{},x=d.fields||{},F=(g=I[Mc])===null||g===void 0?void 0:g.arrayValue,Z=(p=x[Mc])===null||p===void 0?void 0:p.arrayValue,it=Rt(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Qy(F,Z)}(s.mapValue,t.mapValue);case 11:return function(c,d){if(c===lc.mapValue&&d===lc.mapValue)return 0;if(c===lc.mapValue)return 1;if(d===lc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const x=Ud(p[I],A[I]);if(x!==0)return x;const F=xa(g[p[I]],v[A[I]]);if(F!==0)return F}return Rt(p.length,A.length)}(s.mapValue,t.mapValue);default:throw gt()}}function Ky(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Rt(s,t);const i=Mr(s),r=Mr(t),l=Rt(i.seconds,r.seconds);return l!==0?l:Rt(i.nanos,r.nanos)}function Qy(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=xa(i[l],r[l]);if(c)return c}return Rt(i.length,r.length)}function za(s){return kd(s)}function kd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=Mr(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Vr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ut.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=kd(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${kd(i.fields[d])}`;return l+"}"}(s.mapValue):gt()}function _c(s){switch(Pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$c(s);return t?16+_c(t):16;case 5:return 2*s.stringValue.length;case 6:return Vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,c)=>l+_c(c),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return Ds(r.fields,(c,d)=>{l+=c.length+_c(d)}),l}(s.mapValue);default:throw gt()}}function Ld(s){return!!s&&"integerValue"in s}function dm(s){return!!s&&"arrayValue"in s}function Yy(s){return!!s&&"nullValue"in s}function Xy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function yc(s){return!!s&&"mapValue"in s}function Zw(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[zE])===null||i===void 0?void 0:i.stringValue)===BE}function dl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Ds(s.mapValue.fields,(i,r)=>t.mapValue.fields[i]=dl(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=dl(s.arrayValue.values[i]);return t}return Object.assign({},s)}function Ww(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=dl(i)}setAll(t){let i=ze.emptyPath(),r={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=dl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Ds(i,(l,c)=>t[l]=c);for(const l of r)delete t[l]}clone(){return new Rn(dl(this.value))}}function qE(s){const t=[];return Ds(s.fields,(i,r)=>{const l=new ze([i]);if(yc(r)){const c=qE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,yt.min(),yt.min(),yt.min(),Rn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ke(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new Ke(t,2,i,yt.min(),yt.min(),Rn.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,yt.min(),yt.min(),Rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i){this.position=t,this.inclusive=i}}function $y(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),i.key):r=xa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zy(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!oi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Jw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class Ae extends HE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new eI(t,i,r):i==="array-contains"?new rI(t,r):i==="in"?new sI(t,r):i==="not-in"?new aI(t,r):i==="array-contains-any"?new oI(t,r):new Ae(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new nI(t,r):new iI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(xa(i,this.value)):i!==null&&Pr(this.value)===Pr(i)&&this.matchesComparison(xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends HE{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new li(t,i)}matches(t){return jE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jE(s){return s.op==="and"}function GE(s){return tI(s)&&jE(s)}function tI(s){for(const t of s.filters)if(t instanceof li)return!1;return!0}function xd(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+za(s.value);if(GE(s))return s.filters.map(t=>xd(t)).join(",");{const t=s.filters.map(i=>xd(i)).join(",");return`${s.op}(${t})`}}function FE(s,t){return s instanceof Ae?function(r,l){return l instanceof Ae&&r.op===l.op&&r.field.isEqual(l.field)&&oi(r.value,l.value)}(s,t):s instanceof li?function(r,l){return l instanceof li&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((c,d,g)=>c&&FE(d,l.filters[g]),!0):!1}(s,t):void gt()}function KE(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${za(i.value)}`}(s):s instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(KE).join(" ,")+"}"}(s):"Filter"}class eI extends Ae{constructor(t,i,r){super(t,i,r),this.key=ut.fromName(r.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class nI extends Ae{constructor(t,i){super(t,"in",i),this.keys=QE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class iI extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=QE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function QE(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>ut.fromName(r.referenceValue))}class rI extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dm(i)&&Sl(i.arrayValue,this.value)}}class sI extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Sl(this.value.arrayValue,i)}}class aI extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Sl(this.value.arrayValue,i)}}class oI extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function Wy(s,t=null,i=[],r=[],l=null,c=null,d=null){return new lI(s,t,i,r,l,c,d)}function mm(s){const t=Et(s);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>xd(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),Xc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>za(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>za(r)).join(",")),t.le=i}return t.le}function gm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Jw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!FE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Zy(s.startAt,t.startAt)&&Zy(s.endAt,t.endAt)}function zd(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uI(s,t,i,r,l,c,d,g){return new Zc(s,t,i,r,l,c,d,g)}function YE(s){return new Zc(s)}function Jy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cI(s){return s.collectionGroup!==null}function ml(s){const t=Et(s);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Pc(c,r))}),i.has(ze.keyField().canonicalString())||t.he.push(new Pc(ze.keyField(),r))}return t.he}function si(s){const t=Et(s);return t.Pe||(t.Pe=hI(t,ml(s))),t.Pe}function hI(s,t){if(s.limitType==="F")return Wy(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Pc(l.field,c)});const i=s.endAt?new Vc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Vc(s.startAt.position,s.startAt.inclusive):null;return Wy(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Bd(s,t,i){return new Zc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Wc(s,t){return gm(si(s),si(t))&&s.limitType===t.limitType}function XE(s){return`${mm(si(s))}|lt:${s.limitType}`}function wa(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(l=>KE(l)).join(", ")}]`),Xc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(l=>za(l)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(l=>za(l)).join(",")),`Target(${r})`}(si(s))}; limitType=${s.limitType})`}function Jc(s,t){return t.isFoundDocument()&&function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ut.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,t)&&function(r,l){for(const c of ml(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(r,l){return!(r.startAt&&!function(d,g,p){const v=$y(d,g,p);return d.inclusive?v<=0:v<0}(r.startAt,ml(r),l)||r.endAt&&!function(d,g,p){const v=$y(d,g,p);return d.inclusive?v>=0:v>0}(r.endAt,ml(r),l))}(s,t)}function fI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $E(s){return(t,i)=>{let r=!1;for(const l of ml(s)){const c=dI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function dI(s,t,i){const r=s.field.isKeyField()?ut.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?xa(p,v):gt()}(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,(i,r)=>{for(const[l,c]of r)t(l,c)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new ie(ut.comparator);function qi(){return mI}const ZE=new ie(ut.comparator);function cl(...s){let t=ZE;for(const i of s)t=t.insert(i.key,i);return t}function WE(s){let t=ZE;return s.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function As(){return gl()}function JE(){return gl()}function gl(){return new Os(s=>s.toString(),(s,t)=>s.isEqual(t))}const gI=new ie(ut.comparator),pI=new be(ut.comparator);function Nt(...s){let t=pI;for(const i of s)t=t.add(i);return t}const _I=new be(Rt);function yI(){return _I}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(t)?"-0":t}}function tT(s){return{integerValue:""+s}}function vI(s,t){return Fw(t)?tT(t):pm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function EI(s,t,i){return s instanceof Uc?function(l,c){const d={fields:{[kE]:{stringValue:UE},[xE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&fm(c)&&(c=$c(c)),c&&(d.fields[LE]=c),{mapValue:d}}(i,t):s instanceof bl?nT(s,t):s instanceof Rl?iT(s,t):function(l,c){const d=eT(l,c),g=tv(d)+tv(l.Ie);return Ld(d)&&Ld(l.Ie)?tT(g):pm(l.serializer,g)}(s,t)}function TI(s,t,i){return s instanceof bl?nT(s,t):s instanceof Rl?iT(s,t):i}function eT(s,t){return s instanceof kc?function(r){return Ld(r)||function(c){return!!c&&"doubleValue"in c}(r)}(t)?t:{integerValue:0}:null}class Uc extends th{}class bl extends th{constructor(t){super(),this.elements=t}}function nT(s,t){const i=rT(t);for(const r of s.elements)i.some(l=>oi(l,r))||i.push(r);return{arrayValue:{values:i}}}class Rl extends th{constructor(t){super(),this.elements=t}}function iT(s,t){let i=rT(t);for(const r of s.elements)i=i.filter(l=>!oi(l,r));return{arrayValue:{values:i}}}class kc extends th{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function tv(s){return he(s.integerValue||s.doubleValue)}function rT(s){return dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function AI(s,t){return s.field.isEqual(t.field)&&function(r,l){return r instanceof bl&&l instanceof bl||r instanceof Rl&&l instanceof Rl?La(r.elements,l.elements,oi):r instanceof kc&&l instanceof kc?oi(r.Ie,l.Ie):r instanceof Uc&&l instanceof Uc}(s.transform,t.transform)}class SI{constructor(t,i){this.version=t,this.transformResults=i}}class Li{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class eh{}function sT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new oT(s.key,Li.none()):new Nl(s.key,s.data,Li.none());{const i=s.data,r=Rn.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ns(s.key,r,new Un(l.toArray()),Li.none())}}function bI(s,t,i){s instanceof Nl?function(l,c,d){const g=l.value.clone(),p=nv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,i):s instanceof Ns?function(l,c,d){if(!vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=nv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(aT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function pl(s,t,i,r){return s instanceof Nl?function(c,d,g,p){if(!vc(c.precondition,d))return g;const v=c.value.clone(),A=iv(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,t,i,r):s instanceof Ns?function(c,d,g,p){if(!vc(c.precondition,d))return g;const v=iv(c.fieldTransforms,p,d),A=d.data;return A.setAll(aT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(s,t,i,r):function(c,d,g){return vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,i)}function RI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=eT(r.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function ev(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&La(r,l,(c,d)=>AI(c,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Nl extends eh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ns extends eh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aT(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}}),t}function nv(s,t,i){const r=new Map;Ht(s.length===i.length);for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,TI(d,g,i[l]))}return r}function iv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,EI(c,d,t))}return r}class oT extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wI extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&bI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=pl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=pl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=JE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=sT(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Nt())}isEqual(t){return this.batchId===t.batchId&&La(this.mutations,t.mutations,(i,r)=>ev(i,r))&&La(this.baseMutations,t.baseMutations,(i,r)=>ev(i,r))}}class _m{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ht(t.mutations.length===r.length);let l=function(){return gI}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new _m(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,kt;function OI(s){switch(s){case X.OK:return gt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt()}}function lT(s){if(s===void 0)return Bi("GRPC error has no .code"),X.UNKNOWN;switch(s){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return gt()}}(kt=pe||(pe={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Cr([4294967295,4294967295],0);function rv(s){const t=OE().encode(s),i=new SE;return i.update(t),new Uint8Array(i.digest())}function sv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Cr([i,r],0),new Cr([l,c],0)]}class ym{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new hl(`Invalid padding: ${i}`);if(r<0)throw new hl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new hl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Cr.fromNumber(this.Ee)}Ae(t,i,r){let l=t.add(i.multiply(Cr.fromNumber(r)));return l.compare(NI)===1&&(l=new Cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=rv(t),[r,l]=sv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,l,c);if(!this.Re(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ym(c,l,i);return r.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=rv(t),[r,l]=sv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,l,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ml.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new nh(yt.min(),l,new ie(Rt),qi(),Nt())}}class Ml{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ml(r,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,i,r,l){this.me=t,this.removedTargetIds=i,this.key=r,this.fe=l}}class uT{constructor(t,i){this.targetId=t,this.ge=i}}class cT{constructor(t,i,r=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class av{constructor(){this.pe=0,this.ye=ov(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Nt(),i=Nt(),r=Nt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt()}}),new Ml(this.we,this.Se,t,i,r)}Me(){this.be=!1,this.ye=ov()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class MI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=qi(),this.$e=uc(),this.Ue=uc(),this.Ke=new ie(Rt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const r=this.He(i);switch(t.state){case 0:this.Je(i)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(t.resumeToken));break;default:gt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((r,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,r=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if(zd(c))if(r===0){const d=new ut(c.path);this.ze(i,d,Ke.newNoDocument(d,yt.min()))}else Ht(r===1);else{const d=this.et(i);if(d!==r){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Vr(r).toUint8Array()}catch(p){if(p instanceof PE)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new ym(d,l,c)}catch(p){return ka(p instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,i,r){return i.ge.count===r-this.st(t,i.targetId)?0:2}st(t,i){const r=this.ke.getRemoteKeysForTarget(i);let l=0;return r.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&zd(g.target)){const p=new ut(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let r=Nt();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new nh(t,i,this.Ke,this.Qe,r);return this.Qe=qi(),this.$e=uc(),this.Ue=uc(),this.Ke=new ie(Rt),l}Ge(t,i){if(!this.Je(t))return;const r=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,r){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new av,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new be(Rt),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new be(Rt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new av),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function uc(){return new ie(ut.comparator)}function ov(){return new ie(ut.comparator)}const VI={asc:"ASCENDING",desc:"DESCENDING"},PI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UI={and:"AND",or:"OR"};class kI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function qd(s,t){return s.useProto3Json||Xc(t)?t:{value:t}}function Lc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function LI(s,t){return Lc(s,t.toTimestamp())}function ai(s){return Ht(!!s),yt.fromTimestamp(function(i){const r=Mr(i);return new Se(r.seconds,r.nanos)}(s))}function vm(s,t){return Hd(s,t).canonicalString()}function Hd(s,t){const i=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?i:i.child(t)}function fT(s){const t=ee.fromString(s);return Ht(_T(t)),t}function jd(s,t){return vm(s.databaseId,t.path)}function Ad(s,t){const i=fT(t);if(i.get(1)!==s.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(mT(i))}function dT(s,t){return vm(s.databaseId,t)}function xI(s){const t=fT(s);return t.length===4?ee.emptyPath():mT(t)}function Gd(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mT(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function lv(s,t,i){return{name:jd(s,t),fields:i.value.mapValue.fields}}function zI(s,t){let i;if("targetChange"in t){t.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(Ht(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:lT(v.code);return new ot(A,v.message||"")}(d);i=new cT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Ad(s,r.document.name),c=ai(r.document.updateTime),d=r.document.createTime?ai(r.document.createTime):yt.min(),g=new Rn({mapValue:{fields:r.document.fields}}),p=Ke.newFoundDocument(l,c,d,g),v=r.targetIds||[],A=r.removedTargetIds||[];i=new Ec(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Ad(s,r.document),c=r.readTime?ai(r.readTime):yt.min(),d=Ke.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Ec([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Ad(s,r.document),c=r.removedTargetIds||[];i=new Ec([],c,l,null)}else{if(!("filter"in t))return gt();{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new DI(l,c),g=r.targetId;i=new uT(g,d)}}return i}function BI(s,t){let i;if(t instanceof Nl)i={update:lv(s,t.key,t.value)};else if(t instanceof oT)i={delete:jd(s,t.key)};else if(t instanceof Ns)i={update:lv(s,t.key,t.data),updateMask:XI(t.fieldMask)};else{if(!(t instanceof wI))return gt();i={verify:jd(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const g=d.transform;if(g instanceof Uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof kc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw gt()}(0,r))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:LI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt()}(s,t.precondition)),i}function qI(s,t){return s&&s.length>0?(Ht(t!==void 0),s.map(i=>function(l,c){let d=l.updateTime?ai(l.updateTime):ai(c);return d.isEqual(yt.min())&&(d=ai(c)),new SI(d,l.transformResults||[])}(i,t))):[]}function HI(s,t){return{documents:[dT(s,t.path)]}}function jI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=dT(s,l);const c=function(v){if(v.length!==0)return pT(li.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(x){return{field:Ia(x.field),direction:KI(x.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=qd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:i,parent:l}}function GI(s){let t=xI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ht(r===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(I){const x=gT(I);return x instanceof li&&GE(x)?x.getFilters():[x]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(x=>function(Z){return new Pc(Ca(Z.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(x))}(i.orderBy));let g=null;i.limit&&(g=function(I){let x;return x=typeof I=="object"?I.value:I,Xc(x)?null:x}(i.limit));let p=null;i.startAt&&(p=function(I){const x=!!I.before,F=I.values||[];return new Vc(F,x)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const x=!I.before,F=I.values||[];return new Vc(F,x)}(i.endAt)),uI(t,l,d,c,g,"F",p,v)}function FI(s,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gT(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ca(i.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ca(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ca(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ca(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(Ca(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(r=>gT(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt()}}(i.compositeFilter.op))}(s):gt()}function KI(s){return VI[s]}function QI(s){return PI[s]}function YI(s){return UI[s]}function Ia(s){return{fieldPath:s.canonicalString()}}function Ca(s){return ze.fromServerFormat(s.fieldPath)}function pT(s){return s instanceof Ae?function(i){if(i.op==="=="){if(Xy(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NAN"}};if(Yy(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xy(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NAN"}};if(Yy(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(i.field),op:QI(i.op),value:i.value}}}(s):s instanceof li?function(i){const r=i.getFilters().map(l=>pT(l));return r.length===1?r[0]:{compositeFilter:{op:YI(i.op),filters:r}}}(s):gt()}function XI(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function _T(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,i,r,l,c=yt.min(),d=yt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.Tt=t}}function ZI(s){const t=GI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.Tn=new JI}addToCollectionParentIndex(t,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(t,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return Q.resolve()}deleteFieldIndex(t,i){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,i){return Q.resolve()}getDocumentsMatchingTarget(t,i){return Q.resolve(null)}getIndexType(t,i){return Q.resolve(0)}getFieldIndexes(t,i){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,i){return Q.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,i){return Q.resolve(Nr.min())}updateCollectionGroup(t,i,r){return Q.resolve()}updateIndexEntries(t,i){return Q.resolve()}}class JI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new be(ee.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new be(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(yT,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ba(0)}static Kn(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LruGarbageCollector",t1=1048576;function hv([s,t],[i,r]){const l=Rt(s,i);return l===0?Rt(t,r):l}class e1{constructor(t){this.Hn=t,this.buffer=new be(hv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();hv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class n1{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(cv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ya(i)?nt(cv,"Ignoring IndexedDB error during garbage collection: ",i):await Qa(i)}await this.er(3e5)})}}class i1{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return Q.resolve(Yc.ae);const r=new e1(i);return this.tr.forEachTarget(t,l=>r.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>r.Zn(l))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.tr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(uv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let r,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(r=I,g=Date.now(),this.removeTargets(t,r,i))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(I=>(v=Date.now(),Ra()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function r1(s,t){return new i1(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.changes=new Os(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Q.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(r=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(r!==null&&pl(r.mutation,l,Un.empty(),Se.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Nt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Nt()){const l=As();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,r).next(c=>{let d=cl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const r=As();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Nt()))}populateOverlays(t,i,r){const l=[];return r.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,r,l){let c=qi();const d=gl(),g=function(){return gl()}();return i.forEach((p,v)=>{const A=r.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Ns)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),pl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var I;return g.set(v,new a1(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,i){const r=gl();let l=new ie((d,g)=>d-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=r.get(p)||Un.empty();A=g.applyToLocalView(v,A),r.set(p,A);const I=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,I=JE();A.forEach(x=>{if(!c.has(x)){const F=sT(i.get(x),r.get(x));F!==null&&I.set(x,F),c=c.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,I))}return Q.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,l){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cI(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Q.resolve(As());let g=El,p=c;return d.next(v=>Q.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(x=>{p=p.insert(A,x)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Nt())).next(A=>({batchId:g,changes:WE(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next(r=>{let l=cl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=cl();return this.indexManager.getCollectionParents(t,c).next(g=>Q.forEach(g,p=>{const v=function(I,x){return new Zc(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next(A=>{A.forEach((I,x)=>{d=d.insert(I,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=cl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&pl(A.mutation,v,Un.empty(),Se.now()),Jc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ai(l.createTime)}}(i)),Q.resolve()}getNamedQuery(t,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:ZI(l.bundledQuery),readTime:ai(l.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.overlays=new ie(ut.comparator),this.Rr=new Map}getOverlay(t,i){return Q.resolve(this.overlays.get(i))}getOverlays(t,i){const r=As();return Q.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&r.set(l,c)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((l,c)=>{this.Et(t,i,c)}),Q.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Rr.get(r);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(r)),Q.resolve()}getOverlaysForCollection(t,i,r){const l=As(),c=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=c.get(v.largestBatchId);A===null&&(A=As(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=As(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return Q.resolve(g)}Et(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(r.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new CI(i,r));let c=this.Rr.get(i);c===void 0&&(c=Nt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Vr=new be(Ne.mr),this.gr=new be(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const r=new Ne(t,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.wr(new Ne(t,i))}Sr(t,i){t.forEach(r=>this.removeReference(r,i))}br(t){const i=new ut(new ee([])),r=new Ne(i,t),l=new Ne(i,t+1),c=[];return this.gr.forEachInRange([r,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new ut(new ee([])),r=new Ne(i,t),l=new Ne(i,t+1);let c=Nt();return this.gr.forEachInRange([r,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ne(t,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ne{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return ut.comparator(t.key,i.key)||Rt(t.Cr,i.Cr)}static pr(t,i){return Rt(t.Cr,i.Cr)||ut.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ne.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new II(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Nr(r),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?hm:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([r,l],d=>{const g=this.Or(d.Cr);c.push(g)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new be(Rt);return i.forEach(l=>{const c=new Ne(l,0),d=new Ne(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{r=r.add(g.Cr)})}),Q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ut.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ut(c),0);let g=new be(Rt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(r=>{const l=this.Or(r);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Q.forEach(i.mutations,l=>{const c=new Ne(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,i){const r=new Ne(i,0),l=this.Mr.firstAfterOrEqual(r);return Q.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.kr=t,this.docs=function(){return new ie(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Q.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let r=qi();return i.forEach(l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),Q.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=qi();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||qw(Bw(A),r)<=0||(l.has(A.key)||Jc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,i,r,l){gt()}qr(t,i){return Q.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new d1(this)}getSize(t){return Q.resolve(this.size)}}class d1 extends s1{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(r)}),Q.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this.persistence=t,this.Qr=new Os(i=>mm(i),gm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Em,this.targetCount=0,this.Kr=Ba.Un()}forEachTarget(t,i){return this.Qr.forEach((r,l)=>i(l)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),Q.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Ba(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(t,i){return this.zn(i),Q.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Q.waitFor(c).next(()=>l)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,i){const r=this.Qr.get(i)||null;return Q.resolve(r)}addMatchingKeys(t,i,r){return this.Ur.yr(i,r),Q.resolve()}removeMatchingKeys(t,i,r){this.Ur.Sr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(t,i){const r=this.Ur.vr(i);return Q.resolve(r)}containsKey(t,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Yc(0),this.zr=!1,this.zr=!0,this.jr=new c1,this.referenceDelegate=t(this),this.Hr=new m1(this),this.indexManager=new WI,this.remoteDocumentCache=function(l){return new f1(l)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new $I(i),this.Yr=new l1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new u1,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.Wr[t.toKey()];return r||(r=new h1(i,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,r){nt("MemoryPersistence","Starting transaction:",t);const l=new g1(this.Gr.next());return this.referenceDelegate.Zr(),r(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return Q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,i)))}}class g1 extends jw{constructor(t){super(),this.currentSequenceNumber=t}}class Tm{constructor(t){this.persistence=t,this.ti=new Em,this.ni=null}static ri(t){return new Tm(t)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(t,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),Q.resolve()}removeReference(t,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>r.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,r=>{const l=ut.fromPath(r);return this.si(t,l).next(c=>{c||i.removeEntry(l,yt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class xc{constructor(t,i){this.persistence=t,this.oi=new Os(r=>Kw(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=r1(this,i)}static ri(t,i){return new xc(t,i)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(l=>r+l))}sr(t){let i=0;return this.rr(t,r=>{i++}).next(()=>i)}rr(t,i){return Q.forEach(this.oi,(r,l)=>this.ar(t,r,l).next(c=>c?Q.resolve():i(l)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(g=>{g||(r++,c.removeEntry(d,yt.min()))})).next(()=>c.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),Q.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),Q.resolve()}removeReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),Q.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=_c(t.data.value)),i}ar(t,i,r){return Q.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return Q.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Hi=r,this.Ji=l}static Yi(t,i){let r=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Am(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ZA()?8:Gw(Qe())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,l,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new p1;return this._s(t,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>c.result)}us(t,i,r,l){return r.documentReadCount<this.es?(Ra()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Ra()<=Ot.DEBUG&&nt("QueryEngine","Query:",wa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ts*l?(Ra()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(i))):Q.resolve())}rs(t,i){if(Jy(i))return Q.resolve(null);let r=si(i);return this.indexManager.getIndexType(t,r).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Bd(i,null,"F"),r=si(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Nt(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,r).next(p=>{const v=this.cs(i,g);return this.ls(i,v,d,p.readTime)?this.rs(t,Bd(i,null,"F")):this.hs(t,v,i,p)}))})))}ss(t,i,r,l){return Jy(i)||l.isEqual(yt.min())?Q.resolve(null):this.ns.getDocuments(t,r).next(c=>{const d=this.cs(i,c);return this.ls(i,d,r,l)?Q.resolve(null):(Ra()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),wa(i)),this.hs(t,d,i,zw(l,El)).next(g=>g))})}cs(t,i){let r=new be($E(t));return i.forEach((l,c)=>{Jc(t,c)&&(r=r.add(c))}),r}ls(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,r){return Ra()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",wa(i)),this.ns.getDocumentsMatchingQuery(t,i,Nr.min(),r)}hs(t,i,r,l){return this.ns.getDocumentsMatchingQuery(t,r,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",y1=3e8;class v1{constructor(t,i,r,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ie(Rt),this.Is=new Os(c=>mm(c),gm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new o1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function E1(s,t,i,r){return new v1(s,t,i,r)}async function ET(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],g=[];let p=Nt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(r,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function T1(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const I=v.batch,x=I.keys();let F=Q.resolve();return x.forEach(Z=>{F=F.next(()=>A.getEntry(p,Z)).next(it=>{const W=v.docVersions.get(Z);Ht(W!==null),it.version.compareTo(W)<0&&(I.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(i,r,t,c).next(()=>c.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let p=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(r,l))})}function TT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function A1(s,t){const i=Et(s),r=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];t.targetChanges.forEach((A,I)=>{const x=l.get(I);if(!x)return;g.push(i.Hr.removeMatchingKeys(c,A.removedDocuments,I).next(()=>i.Hr.addMatchingKeys(c,A.addedDocuments,I)));let F=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?F=F.withResumeToken(Be.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,r)),l=l.insert(I,F),function(it,W,St){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=y1?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(x,F,A)&&g.push(i.Hr.updateTargetData(c,F))});let p=qi(),v=Nt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(S1(c,d,t.documentUpdates).next(A=>{p=A.Vs,v=A.fs})),!r.isEqual(yt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(c).next(I=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(A)}return Q.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ts=l,c))}function S1(s,t,i){let r=Nt(),l=Nt();return i.forEach(c=>r=r.add(c)),t.getEntries(s,r).next(c=>{let d=qi();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(yt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):nt(Sm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function b1(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=hm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function R1(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return i.Hr.getTargetData(r,t).next(c=>c?(l=c,Q.resolve(l)):i.Hr.allocateTargetId(r).next(d=>(l=new Sr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=i.Ts.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(t,r.targetId)),r})}async function Fd(s,t,i){const r=Et(s),l=r.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ya(d))throw d;nt(Sm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ts=r.Ts.remove(t),r.Is.delete(l.target)}function fv(s,t,i){const r=Et(s);let l=yt.min(),c=Nt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const I=Et(p),x=I.Is.get(A);return x!==void 0?Q.resolve(I.Ts.get(x)):I.Hr.getTargetData(v,A)}(r,d,si(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Nt())).next(g=>(w1(r,fI(t),g),{documents:g,gs:c})))}function w1(s,t,i){let r=s.Es.get(t)||yt.min();i.forEach((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Es.set(t,r)}class dv{constructor(){this.activeTargetIds=yI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class I1{constructor(){this.ho=new dv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,r){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new dv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="ConnectivityMonitor";class gv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(mv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function Kd(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",D1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${r}/databases/${l}`,this.wo=this.databaseId.database===Nc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}So(t,i,r,l,c){const d=Kd(),g=this.bo(t,i.toUriEncodedString());nt(Sd,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,r).then(v=>(nt(Sd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw ka(Sd,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",r),v})}Co(t,i,r,l,c,d){return this.So(t,i,r,l,c)}Do(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ka}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),r&&r.headers.forEach((l,c)=>t[c]=l)}bo(t,i){const r=D1[t];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class M1 extends O1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,r,l){const c=Kd();return new Promise((d,g)=>{const p=new bE;p.setWithCredentials(!0),p.listenOnce(RE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case pc.NO_ERROR:const A=p.getResponseJson();nt(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case pc.TIMEOUT:nt(Ge,`RPC '${t}' ${c} timed out`),g(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const I=p.getStatus();if(nt(Ge,`RPC '${t}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const F=x==null?void 0:x.error;if(F&&F.status&&F.message){const Z=function(W){const St=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(St)>=0?St:X.UNKNOWN}(F.status);g(new ot(Z,F.message))}else g(new ot(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ot(X.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{nt(Ge,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);nt(Ge,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,r,15)})}Wo(t,i,r){const l=Kd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=CE(),g=IE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const A=c.join("");nt(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);let x=!1,F=!1;const Z=new N1({Fo:W=>{F?nt(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(x||(nt(Ge,`Opening RPC '${t}' stream ${l} transport.`),I.open(),x=!0),nt(Ge,`RPC '${t}' stream ${l} sending:`,W),I.send(W))},Mo:()=>I.close()}),it=(W,St,Tt)=>{W.listen(St,ft=>{try{Tt(ft)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return it(I,ul.EventType.OPEN,()=>{F||(nt(Ge,`RPC '${t}' stream ${l} transport opened.`),Z.Qo())}),it(I,ul.EventType.CLOSE,()=>{F||(F=!0,nt(Ge,`RPC '${t}' stream ${l} transport closed`),Z.Uo())}),it(I,ul.EventType.ERROR,W=>{F||(F=!0,ka(Ge,`RPC '${t}' stream ${l} transport errored:`,W),Z.Uo(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),it(I,ul.EventType.MESSAGE,W=>{var St;if(!F){const Tt=W.data[0];Ht(!!Tt);const ft=Tt,Lt=(ft==null?void 0:ft.error)||((St=ft[0])===null||St===void 0?void 0:St.error);if(Lt){nt(Ge,`RPC '${t}' stream ${l} received error:`,Lt);const _t=Lt.status;let Mt=function(R){const O=pe[R];if(O!==void 0)return lT(O)}(_t),N=Lt.message;Mt===void 0&&(Mt=X.INTERNAL,N="Unknown error status: "+_t+" with message "+Lt.message),F=!0,Z.Uo(new ot(Mt,N)),I.close()}else nt(Ge,`RPC '${t}' stream ${l} received:`,Tt),Z.Ko(Tt)}}),it(g,wE.STAT_EVENT,W=>{W.stat===Pd.PROXY?nt(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Pd.NOPROXY&&nt(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s){return new kI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=r,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-r);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="PersistentStream";class ST{constructor(t,i,r,l,c,d,g,p){this.Ti=t,this.n_=r,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AT(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.i_===i&&this.V_(r,l)},r=>{t(()=>{const l=new ot(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(l)})})}V_(t,i){const r=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{r(()=>this.m_(l))}),this.stream.onMessage(l=>{r(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(nt(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V1 extends ST{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=zI(this.serializer,t),r=function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ai(d.readTime):yt.min()}(t);return this.listener.p_(i,r)}y_(t){const i={};i.database=Gd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=zd(p)?{documents:HI(c,p)}:{query:jI(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=hT(c,d.resumeToken);const v=qd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Lc(c,d.snapshotVersion.toTimestamp());const v=qd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const r=FI(this.serializer,t);r&&(i.labels=r),this.I_(i)}w_(t){const i={};i.database=Gd(this.serializer),i.removeTarget=t,this.I_(i)}}class P1 extends ST{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=qI(t.writeResults,t.commitTime),r=ai(t.commitTime);return this.listener.v_(r,i)}C_(){const t={};t.database=Gd(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>BI(this.serializer,r))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class k1 extends U1{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,r,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Hd(i,r),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(X.UNKNOWN,c.toString())})}Co(t,i,r,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Hd(i,r),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class L1{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bi(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class x1{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{r.enqueueAndForget(async()=>{Ms(this)&&(nt(Is,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.W_.add(4),await Vl(v),v.j_.set("Unknown"),v.W_.delete(4),await rh(v)}(this))})}),this.j_=new L1(r,l)}}async function rh(s){if(Ms(s))for(const t of s.G_)await t(!0)}async function Vl(s){for(const t of s.G_)await t(!1)}function bT(s,t){const i=Et(s);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),Im(i)?wm(i):Xa(i).c_()&&Rm(i,t))}function bm(s,t){const i=Et(s),r=Xa(i);i.K_.delete(t),r.c_()&&RT(i,t),i.K_.size===0&&(r.c_()?r.P_():Ms(i)&&i.j_.set("Unknown"))}function Rm(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Xa(s).y_(t)}function RT(s,t){s.H_.Ne(t),Xa(s).w_(t)}function wm(s){s.H_=new MI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),Xa(s).start(),s.j_.B_()}function Im(s){return Ms(s)&&!Xa(s).u_()&&s.K_.size>0}function Ms(s){return Et(s).W_.size===0}function wT(s){s.H_=void 0}async function z1(s){s.j_.set("Online")}async function B1(s){s.K_.forEach((t,i)=>{Rm(s,t)})}async function q1(s,t){wT(s),Im(s)?(s.j_.q_(t),wm(s)):s.j_.set("Unknown")}async function H1(s,t,i){if(s.j_.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.K_.delete(g),l.H_.removeTarget(g))}(s,t)}catch(r){nt(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zc(s,r)}else if(t instanceof Ec?s.H_.We(t):t instanceof uT?s.H_.Ze(t):s.H_.je(t),!i.isEqual(yt.min()))try{const r=await TT(s.localStore);i.compareTo(r)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.K_.get(v);A&&c.K_.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c.K_.get(p);if(!A)return;c.K_.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),RT(c,p);const I=new Sr(A.target,p,v,A.sequenceNumber);Rm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){nt(Is,"Failed to raise snapshot:",r),await zc(s,r)}}async function zc(s,t,i){if(!Ya(t))throw t;s.W_.add(1),await Vl(s),s.j_.set("Offline"),i||(i=()=>TT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(Is,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await rh(s)})}function IT(s,t){return t().catch(i=>zc(s,i,t))}async function sh(s){const t=Et(s),i=Ur(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:hm;for(;j1(t);)try{const l=await b1(t.localStore,r);if(l===null){t.U_.length===0&&i.P_();break}r=l.batchId,G1(t,l)}catch(l){await zc(t,l)}CT(t)&&DT(t)}function j1(s){return Ms(s)&&s.U_.length<10}function G1(s,t){s.U_.push(t);const i=Ur(s);i.c_()&&i.S_&&i.b_(t.mutations)}function CT(s){return Ms(s)&&!Ur(s).u_()&&s.U_.length>0}function DT(s){Ur(s).start()}async function F1(s){Ur(s).C_()}async function K1(s){const t=Ur(s);for(const i of s.U_)t.b_(i.mutations)}async function Q1(s,t,i){const r=s.U_.shift(),l=_m.from(r,t,i);await IT(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await sh(s)}async function Y1(s,t){t&&Ur(s).S_&&await async function(r,l){if(function(d){return OI(d)&&d!==X.ABORTED}(l.code)){const c=r.U_.shift();Ur(r).h_(),await IT(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l)),await sh(r)}}(s,t),CT(s)&&DT(s)}async function _v(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),nt(Is,"RemoteStore received new credentials");const r=Ms(i);i.W_.add(3),await Vl(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await rh(i)}async function X1(s,t){const i=Et(s);t?(i.W_.delete(2),await rh(i)):t||(i.W_.add(2),await Vl(i),i.j_.set("Unknown"))}function Xa(s){return s.J_||(s.J_=function(i,r,l){const c=Et(i);return c.M_(),new V1(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:z1.bind(null,s),No:B1.bind(null,s),Lo:q1.bind(null,s),p_:H1.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),Im(s)?wm(s):s.j_.set("Unknown")):(await s.J_.stop(),wT(s))})),s.J_}function Ur(s){return s.Y_||(s.Y_=function(i,r,l){const c=Et(i);return c.M_(),new P1(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:F1.bind(null,s),Lo:Y1.bind(null,s),D_:K1.bind(null,s),v_:Q1.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await sh(s)):(await s.Y_.stop(),s.U_.length>0&&(nt(Is,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new Cm(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(s,t){if(Bi("AsyncQueue",`${t}: ${s}`),Ya(s))return new ot(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(t){return new Va(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ut.comparator(i.key,r.key):(i,r)=>ut.comparator(i.key,r.key),this.keyedMap=cl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Va)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Va;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Z_=new ie(ut.comparator)}track(t){const i=t.doc.key,r=this.Z_.get(i);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(i):t.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):gt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,r)=>{t.push(r)}),t}}class qa{constructor(t,i,r,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new qa(t,i,Va.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Z1{constructor(){this.queries=vv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const l=Et(i),c=l.queries;l.queries=vv(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(r)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function vv(){return new Os(s=>XE(s),Wc)}async function W1(s,t){const i=Et(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(r=2):(c=new $1,r=t.ra()?0:1);try{switch(r){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Dm(d,`Initialization of query '${wa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Om(i)}async function J1(s,t){const i=Et(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function tC(s,t){const i=Et(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(r=!0);d.ea=l}}r&&Om(i)}function eC(s,t,i){const r=Et(s),l=r.queries.get(t);if(l)for(const c of l.ta)c.onError(i);r.queries.delete(t)}function Om(s){s.ia.forEach(t=>{t.next()})}var Qd,Ev;(Ev=Qd||(Qd={}))._a="default",Ev.Cache="cache";class nC{constructor(t,i,r){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new qa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t){this.key=t}}class NT{constructor(t){this.key=t}}class iC{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=$E(t),this.wa=new Va(this.ya)}get Sa(){return this.fa}ba(t,i){const r=i?i.Da:new yv,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const x=l.get(A),F=Jc(this.query,I)?I:null,Z=!!x&&this.mutatedKeys.has(x.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;x&&F?x.data.isEqual(F.data)?Z!==it&&(r.track({type:3,doc:F}),W=!0):this.va(x,F)||(r.track({type:2,doc:F}),W=!0,(p&&this.ya(F,p)>0||v&&this.ya(F,v)<0)&&(g=!0)):!x&&F?(r.track({type:0,doc:F}),W=!0):x&&!F&&(r.track({type:1,doc:x}),W=!0,(p||v)&&(g=!0)),W&&(F?(d=d.add(F),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{wa:d,Da:r,ls:g,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,I)=>function(F,Z){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return it(F)-it(Z)}(A.type,I.type)||this.ya(A.doc,I.doc)),this.Ca(r),l=l!=null&&l;const g=i&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new qa(this.query,t.wa,c,d,t.mutatedKeys,p===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return t.forEach(r=>{this.pa.has(r)||i.push(new NT(r))}),this.pa.forEach(r=>{t.has(r)||i.push(new OT(r))}),i}Oa(t){this.fa=t.gs,this.pa=Nt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return qa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Nm="SyncEngine";class rC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class sC{constructor(t){this.key=t,this.Ba=!1}}class aC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Os(g=>XE(g),Wc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ut.comparator),this.Ua=new Map,this.Ka=new Em,this.Wa={},this.Ga=new Map,this.za=Ba.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oC(s,t,i=!0){const r=LT(s);let l;const c=r.ka.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await MT(r,t,i,!0),l}async function lC(s,t){const i=LT(s);await MT(i,t,!0,!1)}async function MT(s,t,i,r){const l=await R1(s.localStore,si(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await uC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&bT(s.remoteStore,l),g}async function uC(s,t,i,r,l){s.Ha=(I,x,F)=>async function(it,W,St,Tt){let ft=W.view.ba(St);ft.ls&&(ft=await fv(it.localStore,W.query,!1).then(({documents:N})=>W.view.ba(N,ft)));const Lt=Tt&&Tt.targetChanges.get(W.targetId),_t=Tt&&Tt.targetMismatches.get(W.targetId)!=null,Mt=W.view.applyChanges(ft,it.isPrimaryClient,Lt,_t);return Av(it,W.targetId,Mt.Ma),Mt.snapshot}(s,I,x,F);const c=await fv(s.localStore,t,!0),d=new iC(t,c.gs),g=d.ba(c.documents),p=Ml.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,p);Av(s,i,v.Ma);const A=new rC(t,i,d);return s.ka.set(t,A),s.qa.has(i)?s.qa.get(i).push(t):s.qa.set(i,[t]),v.snapshot}async function cC(s,t,i){const r=Et(s),l=r.ka.get(t),c=r.qa.get(l.targetId);if(c.length>1)return r.qa.set(l.targetId,c.filter(d=>!Wc(d,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Fd(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),i&&bm(r.remoteStore,l.targetId),Yd(r,l.targetId)}).catch(Qa)):(Yd(r,l.targetId),await Fd(r.localStore,l.targetId,!0))}async function hC(s,t){const i=Et(s),r=i.ka.get(t),l=i.qa.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),bm(i.remoteStore,r.targetId))}async function fC(s,t,i){const r=vC(s);try{const l=await function(d,g){const p=Et(d),v=Se.now(),A=g.reduce((F,Z)=>F.add(Z.key),Nt());let I,x;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let Z=qi(),it=Nt();return p.ds.getEntries(F,A).next(W=>{Z=W,Z.forEach((St,Tt)=>{Tt.isValidDocument()||(it=it.add(St))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,Z)).next(W=>{I=W;const St=[];for(const Tt of g){const ft=RI(Tt,I.get(Tt.key).overlayedDocument);ft!=null&&St.push(new Ns(Tt.key,ft,qE(ft.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(F,v,St,g)}).next(W=>{x=W;const St=W.applyToLocalDocumentSet(I,it);return p.documentOverlayCache.saveOverlays(F,W.batchId,St)})}).then(()=>({batchId:x.batchId,changes:WE(I)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new ie(Rt)),v=v.insert(g,p),d.Wa[d.currentUser.toKey()]=v}(r,l.batchId,i),await Pl(r,l.changes),await sh(r.remoteStore)}catch(l){const c=Dm(l,"Failed to persist write");i.reject(c)}}async function VT(s,t){const i=Et(s);try{const r=await A1(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Ua.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Ht(d.Ba):l.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await Pl(i,r,t)}catch(r){await Qa(r)}}function Tv(s,t,i){const r=Et(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,I)=>{for(const x of I.ta)x.sa(g)&&(v=!0)}),v&&Om(p)}(r.eventManager,t),l.length&&r.La.p_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dC(s,t,i){const r=Et(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Ua.get(t),c=l&&l.key;if(c){let d=new ie(ut.comparator);d=d.insert(c,Ke.newNoDocument(c,yt.min()));const g=Nt().add(c),p=new nh(yt.min(),new Map,new ie(Rt),d,g);await VT(r,p),r.$a=r.$a.remove(c),r.Ua.delete(t),Mm(r)}else await Fd(r.localStore,t,!1).then(()=>Yd(r,t,i)).catch(Qa)}async function mC(s,t){const i=Et(s),r=t.batch.batchId;try{const l=await T1(i.localStore,t);UT(i,r,null),PT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Pl(i,l)}catch(l){await Qa(l)}}async function gC(s,t,i){const r=Et(s);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(I=>(Ht(I!==null),A=I.keys(),p.mutationQueue.removeMutationBatch(v,I))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(r.localStore,t);UT(r,t,i),PT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Pl(r,l)}catch(l){await Qa(l)}}function PT(s,t){(s.Ga.get(t)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(t)}function UT(s,t,i){const r=Et(s);let l=r.Wa[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Wa[r.currentUser.toKey()]=l}}function Yd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.qa.get(t))s.ka.delete(r),i&&s.La.Ja(r,i);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(r=>{s.Ka.containsKey(r)||kT(s,r)})}function kT(s,t){s.Qa.delete(t.path.canonicalString());const i=s.$a.get(t);i!==null&&(bm(s.remoteStore,i),s.$a=s.$a.remove(t),s.Ua.delete(i),Mm(s))}function Av(s,t,i){for(const r of i)r instanceof OT?(s.Ka.addReference(r.key,t),pC(s,r)):r instanceof NT?(nt(Nm,"Document no longer in limbo: "+r.key),s.Ka.removeReference(r.key,t),s.Ka.containsKey(r.key)||kT(s,r.key)):gt()}function pC(s,t){const i=t.key,r=i.path.canonicalString();s.$a.get(i)||s.Qa.has(r)||(nt(Nm,"New document in limbo: "+i),s.Qa.add(r),Mm(s))}function Mm(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const i=new ut(ee.fromString(t)),r=s.za.next();s.Ua.set(r,new sC(i)),s.$a=s.$a.insert(i,r),bT(s.remoteStore,new Sr(si(YE(i.path)),r,"TargetPurposeLimboResolution",Yc.ae))}}async function Pl(s,t,i){const r=Et(s),l=[],c=[],d=[];r.ka.isEmpty()||(r.ka.forEach((g,p)=>{d.push(r.Ha(p,t,i).then(v=>{var A;if((v||i)&&r.isPrimaryClient){const I=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(v){l.push(v);const I=Am.Yi(p.targetId,v);c.push(I)}}))}),await Promise.all(d),r.La.p_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(v,x=>Q.forEach(x.Hi,F=>A.persistence.referenceDelegate.addReference(I,x.targetId,F)).next(()=>Q.forEach(x.Ji,F=>A.persistence.referenceDelegate.removeReference(I,x.targetId,F)))))}catch(I){if(!Ya(I))throw I;nt(Sm,"Failed to update sequence numbers: "+I)}for(const I of v){const x=I.targetId;if(!I.fromCache){const F=A.Ts.get(x),Z=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(Z);A.Ts=A.Ts.insert(x,it)}}}(r.localStore,c))}async function _C(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){nt(Nm,"User change. New user:",t.toKey());const r=await ET(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ot(X.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Pl(i,r.Rs)}}function yC(s,t){const i=Et(s),r=i.Ua.get(t);if(r&&r.Ba)return Nt().add(r.key);{let l=Nt();const c=i.qa.get(t);if(!c)return l;for(const d of c){const g=i.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function LT(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dC.bind(null,t),t.La.p_=tC.bind(null,t.eventManager),t.La.Ja=eC.bind(null,t.eventManager),t}function vC(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gC.bind(null,t),t}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return E1(this.persistence,new _1,t.initialUser,this.serializer)}Xa(t){return new vT(Tm.ri,this.serializer)}Za(t){return new I1}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class EC extends Bc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Ht(this.persistence.referenceDelegate instanceof xc);const r=this.persistence.referenceDelegate.garbageCollector;return new n1(r,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new vT(r=>xc.ri(r,i),this.serializer)}}class Xd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_C.bind(null,this.syncEngine),await X1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Z1}()}createDatastore(t){const i=ih(t.databaseInfo.databaseId),r=function(c){return new M1(c)}(t.databaseInfo);return function(c,d,g,p){return new k1(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,l,c,d,g){return new x1(r,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>Tv(this.syncEngine,i,0),function(){return gv.D()?new gv:new C1}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,A){const I=new aC(l,c,d,g,p,v);return A&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);nt(Is,"RemoteStore shutting down."),c.W_.add(5),await Vl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class AC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=NE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{nt(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(nt(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Dm(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Rd(s,t){s.asyncQueue.verifyOperationInProgress(),nt(kr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await ET(t.localStore,l),r=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Sv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await SC(s);nt(kr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener(r=>_v(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>_v(t.remoteStore,l)),s._onlineComponents=t}async function SC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(kr,"Using user provided OfflineComponentProvider");try{await Rd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;ka("Error using user provided cache. Falling back to memory cache: "+i),await Rd(s,new Bc)}}else nt(kr,"Using default OfflineComponentProvider"),await Rd(s,new EC(void 0));return s._offlineComponents}async function xT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(kr,"Using user provided OnlineComponentProvider"),await Sv(s,s._uninitializedComponentsProvider._online)):(nt(kr,"Using default OnlineComponentProvider"),await Sv(s,new Xd))),s._onlineComponents}function bC(s){return xT(s).then(t=>t.syncEngine)}async function RC(s){const t=await xT(s),i=t.eventManager;return i.onListen=oC.bind(null,t.syncEngine),i.onUnlisten=cC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hC.bind(null,t.syncEngine),i}function wC(s,t,i={}){const r=new Dr;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new TC({next:x=>{A.su(),d.enqueueAndForget(()=>J1(c,I)),x.fromCache&&p.source==="server"?v.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),I=new nC(g,A,{includeMetadataChanges:!0,Ta:!0});return W1(c,I)}(await RC(s),s.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(s,t,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function IC(s,t,i,r){if(t===!0&&r===!0)throw new ot(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Rv(s){if(!ut.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wv(s){if(ut.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Vm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt()}function qc(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(s);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",Iv=!0;class Cv{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=Iv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Iv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<t1)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}IC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ah{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ow;switch(r.type){case"firstParty":return new Pw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=bv.get(i);r&&(nt("ComponentProvider","Removing Datastore"),bv.delete(i),r.terminate())}(this),Promise.resolve()}}function CC(s,t,i,r={}){var l;const c=(s=qc(s,ah))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==qT&&c.host!==g&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:r});if(!Ss(p,d)&&(s._setSettings(p),r.mockUserToken)){let v,A;if(typeof r.mockUserToken=="string")v=r.mockUserToken,A=Fe.MOCK_USER;else{v=GA(r.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(I)}s._authCredentials=new Nw(new DE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new oh(this.firestore,t,this._query)}}class kn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new kn(this.firestore,t,this._key)}}class Or extends oh{constructor(t,i,r){super(t,i,YE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new kn(this.firestore,null,new ut(t))}withConverter(t){return new Or(this.firestore,t,this._path)}}function Dv(s,t,...i){if(s=wn(s),BT("collection","path",t),s instanceof ah){const r=ee.fromString(t,...i);return wv(r),new Or(s,null,r)}{if(!(s instanceof kn||s instanceof Or))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return wv(r),new Or(s.firestore,null,r)}}function DC(s,t,...i){if(s=wn(s),arguments.length===1&&(t=NE.newId()),BT("doc","path",t),s instanceof ah){const r=ee.fromString(t,...i);return Rv(r),new kn(s,null,new ut(r))}{if(!(s instanceof kn||s instanceof Or))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return Rv(r),new kn(s.firestore,s instanceof Or?s.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="AsyncQueue";class Nv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AT(this,"async_queue_retry"),this.Su=()=>{const r=bd();r&&nt(Ov,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const i=bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ya(t))throw t;nt(Ov,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(r);throw Bi("INTERNAL UNHANDLED ERROR: ",l),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(t,i,r){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=Cm.createAndSchedule(this,t,i,r,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Pm extends ah{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Nv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Nv(t),this._firestoreClient=void 0,await t}}}function OC(s,t){const i=typeof s=="object"?s:Bv(),r=typeof s=="string"?s:Nc,l=Jd(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=HA("firestore");c&&CC(l,...c)}return l}function HT(s){if(s._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NC(s),s._firestoreClient}function NC(s){var t,i,r;const l=s._freezeSettings(),c=function(g,p,v,A){return new Xw(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,zT(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new AC(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ha(Be.fromBase64String(t))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ha(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^__.*__$/;class VC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,i,this.fieldTransforms):new Nl(t,this.data,i,this.fieldTransforms)}}function GT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class xm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new xm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:r,Qu:!1});return l.$u(t),l}Uu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:r,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Hc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(GT(this.Lu)&&MC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class PC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||ih(t)}ju(t,i,r,l=!1){return new xm({Lu:t,methodName:i,zu:r,path:ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UC(s){const t=s._freezeSettings(),i=ih(s._databaseId);return new PC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function kC(s,t,i,r,l,c={}){const d=s.ju(c.merge||c.mergeFields?2:0,t,i,l);YT("Data must be an object, but it was:",d,r);const g=KT(r,d);let p,v;if(c.merge)p=new Un(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const x=LC(t,I,i);if(!d.contains(x))throw new ot(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);zC(A,x)||A.push(x)}p=new Un(A),v=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,v=d.fieldTransforms;return new VC(new Rn(g),p,v)}function FT(s,t){if(QT(s=wn(s)))return YT("Unsupported field value:",t,s),KT(s,t);if(s instanceof jT)return function(r,l){if(!GT(l.Lu))throw l.Wu(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,l){const c=[];let d=0;for(const g of r){let p=FT(g,l.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,t)}return function(r,l){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Se.fromDate(r);return{timestampValue:Lc(l.serializer,c)}}if(r instanceof Se){const c=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lc(l.serializer,c)}}if(r instanceof km)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:hT(l.serializer,r._byteString)};if(r instanceof kn){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Lm)return function(d,g){return{mapValue:{fields:{[zE]:{stringValue:BE},[Mc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return pm(g.serializer,v)})}}}}}}(r,l);throw l.Wu(`Unsupported field value: ${Vm(r)}`)}(s,t)}function KT(s,t){const i={};return VE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(s,(r,l)=>{const c=FT(l,t.qu(r));c!=null&&(i[r]=c)}),{mapValue:{fields:i}}}function QT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof km||s instanceof Ha||s instanceof kn||s instanceof jT||s instanceof Lm)}function YT(s,t,i){if(!QT(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const r=Vm(i);throw r==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+r)}}function LC(s,t,i){if((t=wn(t))instanceof Um)return t._internalPath;if(typeof t=="string")return XT(s,t);throw Hc("Field path arguments must be of type string or ",s,!1,void 0,i)}const xC=new RegExp("[~\\*/\\[\\]]");function XT(s,t,i){if(t.search(xC)>=0)throw Hc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Um(...t.split("."))._internalPath}catch{throw Hc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Hc(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new ot(X.INVALID_ARGUMENT,g+s+p)}function zC(s,t){return s.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ZT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class BC extends $T{data(){return super.data()}}function ZT(s,t){return typeof t=="string"?XT(s,t):t instanceof Um?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HC{convertValue(t,i="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ds(t,(l,c)=>{r[l]=this.convertValue(c,i)}),r}convertVectorValue(t){var i,r,l;const c=(l=(r=(i=t.fields)===null||i===void 0?void 0:i[Mc].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new Lm(c)}convertGeoPoint(t){return new km(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=$c(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Tl(t));default:return null}}convertTimestamp(t){const i=Mr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);Ht(_T(r));const l=new Al(r.get(1),r.get(3)),c=new ut(r.popFirst(5));return l.isEqual(i)||Bi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(s,t,i){let r;return r=s?s.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GC extends $T{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ZT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Tc extends GC{data(t={}){return super.data(t)}}class FC{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new hc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new Tc(this._firestore,this._userDataWriter,r.key,r,new hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new Tc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Tc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:KC(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function KC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class QC extends HC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new kn(this.firestore,null,i)}}function YC(s){s=qc(s,oh);const t=qc(s.firestore,Pm),i=HT(t),r=new QC(t);return qC(s._query),wC(i,s._query).then(l=>new FC(t,r,s,l))}function XC(s,t){const i=qc(s.firestore,Pm),r=DC(s),l=jC(s.converter,t);return $C(i,[kC(UC(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Li.exists(!1))]).then(()=>r)}function $C(s,t){return function(r,l){const c=new Dr;return r.asyncQueue.enqueueAndForget(async()=>fC(await bC(r),l,c)),c.promise}(HT(s),t)}(function(t,i=!0){(function(l){Ka=l})(ja),Pa(new bs("firestore",(r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Pm(new Mw(r.getProvider("auth-internal")),new Uw(d,r.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),wr(ky,Ly,t),wr(ky,Ly,"esm2017")})();function ZC(){const s=tm(AE),t=OC(s),[i,r]=ni.useState([]),[l,c]=ni.useState(""),[d,g]=ni.useState(0),p=async()=>{const I=await YC(Dv(t,"product")),x=[];I.forEach(F=>{const Z=F.data();x.push({...Z,id:F.id})}),r(x)};ni.useEffect(()=>{p()},[]);const v=async()=>{if(l&&!isNaN(d)&&d>0){const I={name:l,price:d},x=await XC(Dv(t,"product"),I);console.log("Uuden tuotteen Ref Id on "+x.id),p(),c(""),g(0)}else alert("Anna kelvollinen nimi ja hinta (> 0)")},A=I=>{const{name:x,value:F}=I.target;x==="name"?c(F):x==="price"&&g(parseFloat(F))};return vt.jsxs("div",{children:[vt.jsx("h2",{children:"Tuotteet"}),vt.jsxs("table",{style:{borderCollapse:"collapse",width:"100%"},children:[vt.jsx("thead",{children:vt.jsxs("tr",{children:[vt.jsx("th",{children:"ID"}),vt.jsx("th",{children:"Nimi"}),vt.jsx("th",{children:"Hinta"})]})}),vt.jsx("tbody",{children:i.map(I=>vt.jsxs("tr",{children:[vt.jsx("td",{children:I.id}),vt.jsx("td",{children:I.name}),vt.jsx("td",{children:I.price})]},I.id))})]}),vt.jsx("h3",{children:"Lisää uusi tuote"}),vt.jsxs("div",{style:{marginBottom:"10px"},children:["Nimi:",vt.jsx("input",{type:"text",name:"name",value:l,onChange:A,placeholder:"Tuotteen nimi"}),"Hinta:",vt.jsx("input",{type:"number",name:"price",value:d,onChange:A,placeholder:"Tuotteen hinta",step:"0.01"}),vt.jsx("button",{onClick:v,children:"Lisää tuote"})]})]})}function WC(){const[s,t]=ni.useState(0);ni.useEffect(()=>{var r=window._mtm=window._mtm||[];r.push({"mtm.startTime":new Date().getTime(),event:"mtm.Start"}),function(){var l=document,c=l.createElement("script"),d=l.getElementsByTagName("script")[0];c.async=!0,c.src="https://pilvipalvelut-matomo.2.rahtiapp.fi/js/container_FL1S3E8H_dev_4353b6908c83580e50b0a2b0.js",d&&d.parentNode&&d.parentNode.insertBefore(c,d)}()});const i=ni.useCallback(r=>{console.log("Nappi painettu: ("+r.pageX+", "+ +r.pageY+")"),t(l=>l+1)},[t]);return vt.jsxs(vt.Fragment,{children:[vt.jsxs("div",{children:[vt.jsx("a",{href:"https://vite.dev",target:"_blank",children:vt.jsx("img",{src:VA,className:"logo",alt:"Vite logo"})}),vt.jsx("a",{href:"https://react.dev",target:"_blank",children:vt.jsx("img",{src:MA,className:"logo react",alt:"React logo"})})]}),vt.jsx("h1",{children:"Tiian sovellus"}),vt.jsxs("div",{className:"card",children:[vt.jsxs("button",{onClick:i,children:["count is ",s]}),vt.jsx("div",{children:vt.jsx(Dw,{})}),vt.jsx("div",{children:vt.jsx(ZC,{})})]}),vt.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}NA.createRoot(document.getElementById("root")).render(vt.jsx(ni.StrictMode,{children:vt.jsx(WC,{})}));
